/**
 * 12ì›” 17ì¼(ìˆ˜ìš”ì¼) ë¹„ê±°ë¦¬ ë¹„ë²• ì‹œë¦¬ì¦ˆ 1í¸ ìƒì„± ìŠ¤í¬ë¦½íŠ¸
 * ì£¼ì œ: ìŠ¤ìœ™ ì†ë„ í–¥ìƒì˜ 5ê°€ì§€ ë¹„ë²•
 */

const { createClient } = require('@supabase/supabase-js');
require('dotenv').config({ path: '.env.local' });

const supabase = createClient(
  process.env.NEXT_PUBLIC_SUPABASE_URL,
  process.env.SUPABASE_SERVICE_ROLE_KEY
);

async function createWednesdayDistanceTips() {
  console.log('ğŸ“ 12ì›” 17ì¼(ìˆ˜ìš”ì¼) ë¹„ê±°ë¦¬ ë¹„ë²• ì‹œë¦¬ì¦ˆ 1í¸ ìƒì„± ì‹œì‘...\n');

  const title = '[ë¹„ê±°ë¦¬ ë¹„ë²• ì‹œë¦¬ì¦ˆ 1í¸] ìŠ¤ìœ™ ì†ë„ í–¥ìƒì˜ 5ê°€ì§€ ë¹„ë²•';
  const summary = 'ìŠ¤ìœ™ ì†ë„ë¥¼ ë†’ì´ë©´ ë¹„ê±°ë¦¬ê°€ ìë™ìœ¼ë¡œ ëŠ˜ì–´ë‚©ë‹ˆë‹¤. ì „ë¬¸ í”¼í„°ê°€ ì•Œë ¤ì£¼ëŠ” 5ê°€ì§€ ì‹¤ì „ ë¹„ë²•ì„ ê³µê°œí•©ë‹ˆë‹¤.';
  
  const contentBody = `# ìŠ¤ìœ™ ì†ë„ í–¥ìƒì˜ 5ê°€ì§€ ë¹„ë²•

## ë“¤ì–´ê°€ë©°

ë¹„ê±°ë¦¬ í–¥ìƒì€ ëª¨ë“  ê³¨í¼ì˜ ê¿ˆì…ë‹ˆë‹¤. íŠ¹íˆ ì‹œë‹ˆì–´ ê³¨í¼ë“¤ì´ë‚˜ ë¹„ê±°ë¦¬ì— ìì‹ ì´ ì—†ëŠ” ê³¨í¼ë“¤ì—ê²ŒëŠ” ë”ìš± ê·¸ë ‡ìŠµë‹ˆë‹¤. ë§ì€ ê³¨í¼ë“¤ì´ ë¹„ê±°ë¦¬ë¥¼ ëŠ˜ë¦¬ê¸° ìœ„í•´ ìƒˆë¡œìš´ ë“œë¼ì´ë²„ë¥¼ ì°¾ê±°ë‚˜, ê°•í•œ í˜ìœ¼ë¡œ ìŠ¤ìœ™í•˜ë ¤ê³  í•˜ì§€ë§Œ, ì‹¤ì œë¡œëŠ” **ìŠ¤ìœ™ ì†ë„**ë¥¼ ë†’ì´ëŠ” ê²ƒì´ ê°€ì¥ íš¨ê³¼ì ì¸ ë°©ë²•ì…ë‹ˆë‹¤.

ìŠ¤ìœ™ ì†ë„ê°€ 1mphë§Œ ì¦ê°€í•´ë„ ë¹„ê±°ë¦¬ëŠ” ì•½ 2-3ì•¼ë“œ ëŠ˜ì–´ë‚©ë‹ˆë‹¤. ì´ëŠ” ë‹¨ìˆœíˆ í˜ì„ ë” ì£¼ëŠ” ê²ƒë³´ë‹¤ í›¨ì”¬ íš¨ìœ¨ì ì´ê³  ì§€ì† ê°€ëŠ¥í•œ ë°©ë²•ì…ë‹ˆë‹¤.

## ìŠ¤ìœ™ ì†ë„ í–¥ìƒì˜ 5ê°€ì§€ ë¹„ë²•

### 1. ë°±ìŠ¤ìœ™ì—ì„œ íƒ€ì´ë° ì¡ê¸°

ë°±ìŠ¤ìœ™ì€ ë‹¨ìˆœíˆ í´ëŸ½ì„ ë’¤ë¡œ ê°€ì ¸ê°€ëŠ” ê²ƒì´ ì•„ë‹™ë‹ˆë‹¤. **ëª¸ì˜ íšŒì „ê³¼ íŒ”ì˜ ì›€ì§ì„ì´ ì¡°í™”ë¡­ê²Œ ì´ë£¨ì–´ì ¸ì•¼** í•©ë‹ˆë‹¤.

**í•µì‹¬ í¬ì¸íŠ¸**:
- ì–´ê¹¨ëŠ” 90ë„ íšŒì „, ê³¨ë°˜ì€ 45ë„ íšŒì „
- ì™¼íŒ”ì„ ê³§ê²Œ ìœ ì§€í•˜ë©° ìì—°ìŠ¤ëŸ½ê²Œ ë“¤ì–´ì˜¬ë¦¬ê¸°
- ë°±ìŠ¤ìœ™ íƒ‘ì—ì„œ ì ì‹œ ë©ˆì¶¤ (ì½”í‚¹ ìœ ì§€)

**ì‹¤ì „ íŒ**: ë°±ìŠ¤ìœ™ íƒ‘ì—ì„œ ë©ˆì¶”ëŠ” ìˆœê°„, ëª¸ì˜ íƒ„ì„±ì´ ìµœëŒ€ê°€ ë©ë‹ˆë‹¤. ì´ íƒ„ì„±ì„ ì´ìš©í•´ ë‹¤ìš´ìŠ¤ìœ™ì„ ì‹œì‘í•˜ë©´ ìì—°ìŠ¤ëŸ½ê²Œ ì†ë„ê°€ ì¦ê°€í•©ë‹ˆë‹¤.

### 2. ë‹¤ìš´ìŠ¤ìœ™ ê°€ì†í™” ê¸°ìˆ 

ë‹¤ìš´ìŠ¤ìœ™ì€ ë°±ìŠ¤ìœ™ì˜ ì—­ìˆœì´ ì•„ë‹™ë‹ˆë‹¤. **ëª¸ì˜ íšŒì „ì„ ë¨¼ì € ì‹œì‘í•˜ê³ , íŒ”ê³¼ í´ëŸ½ì´ ë”°ë¼ì˜¤ëŠ” ìˆœì„œ**ê°€ ì¤‘ìš”í•©ë‹ˆë‹¤.

**í•µì‹¬ í¬ì¸íŠ¸**:
- ê³¨ë°˜ íšŒì „ìœ¼ë¡œ ë‹¤ìš´ìŠ¤ìœ™ ì‹œì‘
- ëª¸ì˜ íšŒì „ì´ íŒ”ì˜ ì›€ì§ì„ë³´ë‹¤ ë¨¼ì €
- ì„íŒ©íŠ¸ ìˆœê°„ì— ìµœëŒ€ ì†ë„ ë‹¬ì„±

**ì‹¤ì „ íŒ**: "ëª¸ì„ ë¨¼ì € ëŒë¦¬ê³ , íŒ”ì€ ë”°ë¼ì˜¤ê²Œ"ë¼ëŠ” ëŠë‚Œìœ¼ë¡œ ìŠ¤ìœ™í•˜ë©´ ìì—°ìŠ¤ëŸ½ê²Œ ì†ë„ê°€ ì¦ê°€í•©ë‹ˆë‹¤. íŒ”ë¡œë§Œ ìŠ¤ìœ™í•˜ë ¤ê³  í•˜ë©´ ì˜¤íˆë ¤ ì†ë„ê°€ ëŠë ¤ì§‘ë‹ˆë‹¤.

### 3. ì²´ì¤‘ ì´ë™ í™œìš©í•˜ê¸°

ê³¨í”„ ìŠ¤ìœ™ì€ ì²´ì¤‘ ì´ë™ì´ í•µì‹¬ì…ë‹ˆë‹¤. **ë°±ìŠ¤ìœ™ì—ì„œ ì˜¤ë¥¸ìª½ìœ¼ë¡œ, ë‹¤ìš´ìŠ¤ìœ™ì—ì„œ ì™¼ìª½ìœ¼ë¡œ** ì²´ì¤‘ì´ ì´ë™í•´ì•¼ í•©ë‹ˆë‹¤.

**í•µì‹¬ í¬ì¸íŠ¸**:
- ë°±ìŠ¤ìœ™: ì²´ì¤‘ì˜ 70%ê°€ ì˜¤ë¥¸ë°œì—
- ë‹¤ìš´ìŠ¤ìœ™: ì²´ì¤‘ì„ ì™¼ë°œë¡œ ì´ë™
- ì„íŒ©íŠ¸: ì²´ì¤‘ì˜ 80%ê°€ ì™¼ë°œì—

**ì‹¤ì „ íŒ**: ì²´ì¤‘ ì´ë™ì´ ì œëŒ€ë¡œ ë˜ë©´ ëª¸ì˜ íšŒì „ ì†ë„ê°€ ìì—°ìŠ¤ëŸ½ê²Œ ì¦ê°€í•©ë‹ˆë‹¤. ì²´ì¤‘ ì´ë™ ì—†ì´ íŒ”ë§Œ ì›€ì§ì´ë©´ ì†ë„ê°€ ëŠë ¤ì§‘ë‹ˆë‹¤.

### 4. ë¦´ë¦¬ìŠ¤ íƒ€ì´ë° ìµœì í™”

ë¦´ë¦¬ìŠ¤ëŠ” ì„íŒ©íŠ¸ ì§ì „ì— ì´ë£¨ì–´ì ¸ì•¼ í•©ë‹ˆë‹¤. **ë„ˆë¬´ ì¼ì° ë¦´ë¦¬ìŠ¤í•˜ë©´ ì†ë„ê°€ ê°ì†Œ**í•˜ê³ , ë„ˆë¬´ ëŠ¦ìœ¼ë©´ ë°©í–¥ì„±ì´ ë‚˜ë¹ ì§‘ë‹ˆë‹¤.

**í•µì‹¬ í¬ì¸íŠ¸**:
- ì„íŒ©íŠ¸ ì§ì „ì— ì†ëª© ì½”í‚¹ í•´ì œ
- í´ëŸ½í—¤ë“œê°€ ê³µì„ ë§ì¶”ëŠ” ìˆœê°„ ìµœëŒ€ ì†ë„
- íŒ”ë¡œìš°ìŠ¤ë¡œ ìì—°ìŠ¤ëŸ½ê²Œ ì™„ì„±

**ì‹¤ì „ íŒ**: "ê³µì„ ë•Œë¦¬ëŠ” ìˆœê°„ ì†ëª©ì´ í’€ë¦°ë‹¤"ëŠ” ëŠë‚Œìœ¼ë¡œ ì—°ìŠµí•˜ë©´ ë¦´ë¦¬ìŠ¤ íƒ€ì´ë°ì„ ì¡ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### 5. ìœ ì—°ì„±ê³¼ ê·¼ë ¥ ê· í˜•

ìŠ¤ìœ™ ì†ë„ë¥¼ ë†’ì´ë ¤ë©´ **ìœ ì—°ì„±ê³¼ ê·¼ë ¥ì˜ ê· í˜•**ì´ ì¤‘ìš”í•©ë‹ˆë‹¤. ìœ ì—°ì„±ë§Œ ìˆìœ¼ë©´ í˜ì´ ë¶€ì¡±í•˜ê³ , ê·¼ë ¥ë§Œ ìˆìœ¼ë©´ ì†ë„ê°€ ëŠë¦½ë‹ˆë‹¤.

**í•µì‹¬ í¬ì¸íŠ¸**:
- ê³¨í”„ ì „ ì¤€ë¹„ ìš´ë™ìœ¼ë¡œ ìœ ì—°ì„± í™•ë³´
- ì½”ì–´ ê·¼ë ¥ ê°•í™”ë¡œ íšŒì „ë ¥ ì¦ê°€
- ì–´ê¹¨ì™€ í—ˆë¦¬ ìœ ì—°ì„± ìœ ì§€

**ì‹¤ì „ íŒ**: ë¼ìš´ë”© ì „ 10ë¶„ ì •ë„ ìŠ¤íŠ¸ë ˆì¹­ì„ í•˜ê³ , í‰ì†Œ ì½”ì–´ ê·¼ë ¥ ìš´ë™ì„ ê¾¸ì¤€íˆ í•˜ë©´ ìŠ¤ìœ™ ì†ë„ê°€ ìì—°ìŠ¤ëŸ½ê²Œ ì¦ê°€í•©ë‹ˆë‹¤.

## ì‹œë‹ˆì–´ ê³¨í¼ë¥¼ ìœ„í•œ íŠ¹ë³„ íŒ

50ëŒ€ ì´ìƒì˜ ì‹œë‹ˆì–´ ê³¨í¼ë“¤ì€ ì²´ë ¥ê³¼ ìœ ì—°ì„±ì˜ í•œê³„ê°€ ìˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ **ì˜¬ë°”ë¥¸ ê¸°ìˆ ê³¼ ì ì ˆí•œ ì¥ë¹„**ë¥¼ ì‚¬ìš©í•˜ë©´ ì¶©ë¶„íˆ ë¹„ê±°ë¦¬ë¥¼ ëŠ˜ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**ì‹œë‹ˆì–´ ê³¨í¼ ì¶”ì²œ ì‚¬í•­**:
- ê°€ë²¼ìš´ ìƒ¤í”„íŠ¸ ì„ íƒ (40gëŒ€)
- ì ì ˆí•œ í”Œë ‰ìŠ¤ (R ë˜ëŠ” A í”Œë ‰ìŠ¤)
- í—¤ë“œ ë¡œí”„íŠ¸ ì¡°ì • (12-13ë„)
- ì •ê¸°ì ì¸ ìŠ¤íŠ¸ë ˆì¹­ê³¼ ê·¼ë ¥ ìš´ë™

## ë§ˆë¬´ë¦¬

ìŠ¤ìœ™ ì†ë„ í–¥ìƒì€ í•˜ë£¨ì•„ì¹¨ì— ì´ë£¨ì–´ì§€ì§€ ì•ŠìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ìœ„ì˜ 5ê°€ì§€ ë¹„ë²•ì„ ê¾¸ì¤€íˆ ì—°ìŠµí•˜ë©´ **2-3ê°œì›” ì•ˆì— ëˆˆì— ë„ëŠ” ë³€í™”**ë¥¼ ê²½í—˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

íŠ¹íˆ ì‹œë‹ˆì–´ ê³¨í¼ë“¤ì€ í˜ë³´ë‹¤ëŠ” **ê¸°ìˆ ê³¼ íƒ€ì´ë°**ì— ì§‘ì¤‘í•˜ë©´ ë” í° íš¨ê³¼ë¥¼ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜¬ë°”ë¥¸ ìŠ¤ìœ™ ë©”ì»¤ë‹ˆì¦˜ì„ ìµíˆê³ , ìì‹ ì—ê²Œ ë§ëŠ” ì¥ë¹„ë¥¼ ì„ íƒí•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤.

ë§ˆì“°êµ¬ê³¨í”„ì—ì„œëŠ” ì „ë¬¸ í”¼í„°ê°€ ì§ì ‘ ì—¬ëŸ¬ë¶„ì˜ ìŠ¤ìœ™ì„ ë¶„ì„í•˜ê³ , ìµœì ì˜ ë“œë¼ì´ë²„ì™€ ìƒ¤í”„íŠ¸ë¥¼ ì¶”ì²œí•´ë“œë¦½ë‹ˆë‹¤. ì‹œíƒ€ ì²´í—˜ì„ í†µí•´ ìì‹ ì—ê²Œ ë§ëŠ” ë¹„ê±°ë¦¬ í–¥ìƒ ì†”ë£¨ì…˜ì„ ì°¾ì•„ë³´ì„¸ìš”.

[ì‹œíƒ€ ì²´í—˜ ì˜ˆì•½í•˜ê¸°](https://www.masgolf.co.kr/booking) | [ë¬¸ì˜í•˜ê¸°](https://www.masgolf.co.kr/contact)

---

**ë‹¤ìŒ í¸ ì˜ˆê³ **: [ë¹„ê±°ë¦¬ ë¹„ë²• ì‹œë¦¬ì¦ˆ 2í¸] ì„íŒ©íŠ¸ í¬ì¸íŠ¸ ìµœì í™”ë¡œ ë¹„ê±°ë¦¬ 20m ëŠ˜ë¦¬ê¸°`;

  const contentDate = '2025-12-17';

  try {
    console.log('ğŸ“ í—ˆë¸Œ ì½˜í…ì¸  ìƒì„± ì¤‘...');
    
    // ìµœì‹  hub_order í™•ì¸ (null ê°’ ì œì™¸í•˜ê³  ìµœëŒ€ê°’ ì°¾ê¸°)
    const { data: allHubs, error: allHubsError } = await supabase
      .from('cc_content_calendar')
      .select('hub_order')
      .eq('is_hub_content', true)
      .not('hub_order', 'is', null);

    let nextHubOrder = 1;
    if (allHubs && allHubs.length > 0) {
      const maxOrder = Math.max(...allHubs.map(h => h.hub_order || 0));
      nextHubOrder = maxOrder + 1;
      console.log(`ğŸ“Š í˜„ì¬ ìµœëŒ€ hub_order: ${maxOrder}, ë‹¤ìŒ hub_order: ${nextHubOrder}`);
    } else {
      console.log('âš ï¸ hub_orderê°€ ìˆëŠ” í—ˆë¸Œ ì½˜í…ì¸ ê°€ ì—†ìŠµë‹ˆë‹¤. 1ë²ˆë¶€í„° ì‹œì‘í•©ë‹ˆë‹¤.');
    }

    const { data: newHubContent, error: hubError } = await supabase
      .from('cc_content_calendar')
      .insert({
        title,
        summary,
        content_body: contentBody,
        content_date: contentDate,
        is_hub_content: true,
        hub_priority: 1,
        hub_order: nextHubOrder,
        auto_derive_channels: ['blog', 'sms', 'naver_blog', 'kakao'],
        channel_status: {
          blog: { status: 'ë¯¸ì—°ê²°', post_id: null, created_at: null },
          sms: { status: 'ë¯¸ë°œí–‰', post_id: null, created_at: null },
          naver_blog: { status: 'ë¯¸ë°œí–‰', post_id: null, created_at: null },
          kakao: { status: 'ë¯¸ë°œí–‰', post_id: null, created_at: null }
        },
        created_at: new Date().toISOString(),
        updated_at: new Date().toISOString()
      })
      .select()
      .single();

    if (hubError) throw hubError;

    console.log('âœ… í—ˆë¸Œ ì½˜í…ì¸  ìƒì„± ì™„ë£Œ!');
    console.log(`   ID: ${newHubContent.id}`);
    console.log(`   ì œëª©: ${newHubContent.title}`);
    console.log(`   ìˆœë²ˆ: ${newHubContent.hub_order}`);
    console.log(`   ë‚ ì§œ: ${contentDate}\n`);

    console.log('ğŸ“ ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸ ìƒì„± ì¤‘...');
    
    const slug = title.toLowerCase()
      .replace(/\[|\]/g, '')
      .replace(/ë¹„ê±°ë¦¬ ë¹„ë²• ì‹œë¦¬ì¦ˆ \d+í¸\s*/g, '')
      .replace(/[^a-z0-9ê°€-í£\s]/g, '')
      .replace(/\s+/g, '-')
      .substring(0, 100);

    const { data: newBlogPost, error: blogError } = await supabase
      .from('blog_posts')
      .insert({
        title,
        slug,
        content: contentBody,
        excerpt: summary,
        status: 'draft',
        category: 'ê³¨í”„ ê°€ì´ë“œ',
        tags: ['ë¹„ê±°ë¦¬ í–¥ìƒ', 'ìŠ¤ìœ™ ì†ë„', 'ê³¨í”„ ê°€ì´ë“œ', 'ì‹œë‹ˆì–´ ê³¨í¼'],
        published_at: contentDate,
        calendar_id: newHubContent.id,
        author: 'ë§ˆì“°êµ¬ê³¨í”„',
        created_at: new Date().toISOString(),
        updated_at: new Date().toISOString()
      })
      .select()
      .single();

    if (blogError) throw blogError;

    console.log('âœ… ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸ ìƒì„± ì™„ë£Œ!');
    console.log(`   ID: ${newBlogPost.id}`);
    console.log(`   ì œëª©: ${newBlogPost.title}\n`);

    console.log('ğŸ”— í—ˆë¸Œì™€ ë¸”ë¡œê·¸ ì—°ê²° ì¤‘...');
    
    const { error: updateHubError } = await supabase
      .from('cc_content_calendar')
      .update({
        blog_post_id: newBlogPost.id,
        channel_status: {
          ...newHubContent.channel_status,
          blog: {
            status: 'ì—°ê²°ë¨',
            post_id: newBlogPost.id,
            created_at: new Date().toISOString(),
            updated_at: new Date().toISOString()
          }
        },
        updated_at: new Date().toISOString()
      })
      .eq('id', newHubContent.id);

    if (updateHubError) throw updateHubError;

    console.log('âœ… í—ˆë¸Œì™€ ë¸”ë¡œê·¸ ì—°ê²° ì™„ë£Œ!\n');

    console.log('ğŸ‰ ìƒì„± ì™„ë£Œ!');
    console.log('â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”');
    console.log('ğŸ“Š ìƒì„± ê²°ê³¼:');
    console.log(`   í—ˆë¸Œ ID: ${newHubContent.id}`);
    console.log(`   ë¸”ë¡œê·¸ ID: ${newBlogPost.id}`);
    console.log(`   ì œëª©: ${title}`);
    console.log(`   ë‚ ì§œ: ${contentDate}`);
    console.log(`   ìˆœë²ˆ: ${newHubContent.hub_order}`);
    console.log('â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”');
    console.log('\nğŸ’¡ ë‹¤ìŒ ë‹¨ê³„:');
    console.log(`   1. í—ˆë¸Œ ì½˜í…ì¸  í¸ì§‘: /admin/content-calendar-hub`);
    console.log(`   2. ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸ í¸ì§‘: /admin/blog?edit=${newBlogPost.id}&hub=${newHubContent.id}`);
    console.log(`   3. ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸ ë°œí–‰: ë¸”ë¡œê·¸ í¸ì§‘ í™”ë©´ì—ì„œ ìƒíƒœë¥¼ 'published'ë¡œ ë³€ê²½`);

  } catch (error) {
    console.error('âŒ ìƒì„± ì¤‘ ì˜¤ë¥˜ ë°œìƒ:', error);
    process.exit(1);
  }
}

createWednesdayDistanceTips();

