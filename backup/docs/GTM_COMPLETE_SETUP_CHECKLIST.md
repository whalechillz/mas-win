# GTM 설정 완전 가이드

## 🚀 즉시 실행 체크리스트

### Step 1: 태그 정리 (10분)
```
□ Google Ads 전환 태그 9개 일시중지
□ "저장" → "제출" → "게시"
□ 버전 이름: "Google Ads 태그 정리"
```

### Step 2: GA4 태그 수정 (15분)
```
□ GA4_구성_페이지뷰 태그 클릭
□ 측정 ID 확인/변경: G-SMJWL2TRM7
□ 구성 매개변수 추가:
  - cookie_domain: auto
  - linker: {"domains": ["mas9golf.com", "win.masgolf.co.kr", "www.masgolf.co.kr", "masgolf.co.kr"]}
□ 저장
```

### Step 3: 변수 생성 (5분)
```
□ 변수 → 새로 만들기
□ GA4 측정 ID (상수): G-SMJWL2TRM7
□ 저장
```

### Step 4: 트리거 생성 (10분)
```
□ 트리거 → 새로 만들기 → 스크롤 깊이
  - 이름: 스크롤 추적
  - 세로 스크롤: 25%, 50%, 75%, 90%
□ 트리거 → 새로 만들기 → 클릭 (링크만)
  - 이름: 외부 링크 클릭
  - 조건: Click URL 포함하지 않음 "masgolf"
```

### Step 5: 이벤트 태그 추가 (15분)
```
□ 태그 → 새로 만들기 → GA4 이벤트 (스크롤)
□ 태그 → 새로 만들기 → GA4 이벤트 (외부 링크)
□ 저장
```

### Step 6: 테스트 (10분)
```
□ "미리보기" 모드 실행
□ 각 도메인 방문하여 테스트
□ GA4 실시간 보고서 확인
```

### Step 7: 최종 게시 (5분)
```
□ 미리보기 종료
□ "제출" → "게시"
□ 버전 이름: "GA4 통합 설정 완료"
```

## 📊 최종 GTM 구조

```
GTM-WPBX97JG (MASGOLF 공식)
├── 태그 (3개)
│   ├── Conversion Linker (유지)
│   ├── GA4 구성 - 통합 (수정)
│   └── GA4 이벤트들 (신규)
│
├── 트리거 (4개)
│   ├── All Pages
│   ├── Initialization - All Pages
│   ├── 스크롤 추적
│   └── 외부 링크 클릭
│
└── 변수 (기본 + 1개)
    └── GA4 측정 ID
```

## 🔍 설정 검증

### GA4에서 확인
1. 실시간 → 이벤트
2. 각 도메인별 트래픽 확인
3. 교차 도메인 이동 시 세션 유지 확인

### GTM에서 확인
1. 미리보기 모드
2. Tag Assistant 활용
3. 각 이벤트 발생 확인

## ⚠️ 주의사항

1. **측정 ID 통일**: 모든 태그에서 같은 GA4 ID 사용
2. **도메인 철자**: 정확한 도메인 입력 (오타 주의)
3. **제출 필수**: 변경사항은 반드시 "제출" 후 "게시"
4. **백업**: 내보내기로 현재 설정 백업

## 🎯 완료 후 상태

- ✅ 4개 도메인 통합 추적
- ✅ 불필요한 태그 정리
- ✅ 향후 확장 가능한 구조
- ✅ 깔끔한 태그 관리
