# 카카오 콘텐츠 생성 시스템 고도화 계획

## 📋 개요

현재 시스템의 베리에이션 부족 문제를 해결하고, 요일별 템플릿 시스템을 구현하여 자동화된 브랜드 콘텐츠 생성 시스템을 완성합니다.

---

## 🎯 Phase 1: 요일별 Base Prompt 템플릿 시스템 구현

### 1.1 템플릿 파일 구조 설계

**파일**: `lib/kakao-base-prompt-templates.js`

```javascript
// 요일별 템플릿 구조
const ACCOUNT1_TEMPLATES = {
  monday: [
    "해돋이 산악 명문코스, 설악산 인근 프리미엄 골프장, 따뜻한 골드 톤",
    "일출과 함께하는 절경 골프코스, 지리산 인근 챔피언십 코스, 감성적 분위기",
    "아침 안개 속 프리미엄 골프장, 산악 코스의 웅장함, 따뜻한 조명"
  ],
  tuesday: [
    "MASSGOO 매장 외관, 프리미엄 느낌의 따뜻한 조명, 골드·브라운 톤",
    "전문 피팅 매장 외관, 따뜻한 인테리어 조명, 시니어 골퍼를 위한 공간",
    "프리미엄 골프 매장, 따뜻한 분위기, 골드 톤 조명"
  ],
  // ... (나머지 요일)
};

const ACCOUNT2_TEMPLATES = {
  monday: [
    "스코틀랜드 스타일 골프코스, St. Andrews 스타일, 쿨 블루·그레이 톤",
    "클래식 명문코스, Royal Troon 스타일, 현대적 디자인",
    "유럽 스타일 프리미엄 코스, 쿨 톤, 하이테크 감성"
  ],
  // ... (나머지 요일)
};
```

### 1.2 Base Prompt 생성 API 구현

**파일**: `pages/api/kakao-content/generate-base-prompt.js`

**기능**:
- 날짜의 요일 자동 계산
- 요일별 템플릿에서 랜덤 또는 순차 선택
- 주차별 테마 반영
- 계정별 페르소나 반영

**로직**:
```javascript
// 1. 요일 계산
const dayOfWeek = new Date(date).getDay();
const dayNames = ['sunday', 'monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday'];

// 2. 템플릿 선택 (주차별 인덱스로 순환)
const weekNumber = Math.ceil(new Date(date).getDate() / 7);
const templateIndex = (weekNumber - 1) % 3; // 3개 템플릿 순환

// 3. basePrompt 생성
const templates = accountType === 'account1' 
  ? ACCOUNT1_TEMPLATES[dayNames[dayOfWeek]]
  : ACCOUNT2_TEMPLATES[dayNames[dayOfWeek]];

const basePrompt = templates[templateIndex];

// 4. 주차별 테마 반영 (선택적)
if (weeklyTheme) {
  basePrompt += `, ${weeklyTheme} 테마 반영`;
}
```

### 1.3 UI 연동

**파일**: `components/admin/kakao/FeedManager.tsx`, `ProfileManager.tsx`

**기능**:
- "🔄 요일별 자동 생성" 버튼 클릭 시 API 호출
- 생성된 basePrompt 자동 표시
- 수동 편집 가능
- 저장 시 Supabase에 저장

---

## 🎯 Phase 2: 베리에이션 강화 시스템

### 2.1 날짜 기반 변형 요소 추가

**파일**: `pages/api/kakao-content/generate-prompt.js`

**변형 요소**:
1. **요일별 테마 차이**
   - 월: 명언형 / 데이터형
   - 화: 건강형 / 기술형
   - 수: 감성형 / 하이테크 매장
   - 목: 비거리 조언 / 제품 포커스
   - 금: 마음가짐 / 혁신형
   - 토: 라이프형 / 글로벌형
   - 일: 대표 메시지 / 브랜드 인사이트

2. **월 초/중/말 분위기**
   - 월 초 (1-10일): 새로운 시작, 활기찬 분위기
   - 월 중 (11-20일): 안정적, 균형잡힌 분위기
   - 월 말 (21-31일): 마무리, 성취감, 감사

3. **계절별 분위기**
   - 봄: 리듬과 부드러움
   - 여름: 에너지와 거리
   - 가을: 정확도와 균형
   - 겨울: 준비와 유지

### 2.2 시드값 기반 베리에이션

**파일**: `pages/api/kakao-content/generate-images.js`

**로직**:
```javascript
// 날짜 기반 시드값 생성 (같은 날짜면 같은 시드, 다른 날짜면 다른 시드)
const dateSeed = new Date(date).getTime() % 1000000;
const variationSeed = dateSeed + (accountType === 'account1' ? 0 : 1000000);

// FAL AI 호출 시
body: JSON.stringify({
  prompt: promptData.prompt,
  seed: variationSeed, // 날짜별 고정 시드
  // ...
})
```

### 2.3 이미지 카테고리 로테이션

**파일**: `pages/api/kakao-content/auto-create-account1.js`, `auto-create-account2.js`

**로직**:
```javascript
// 피드 이미지 카테고리 로테이션
const categories = [
  '시니어 골퍼의 스윙',
  '피팅 상담의 모습',
  '매장의 모습',
  '젊은 골퍼의 스윙',
  '제품 컷',
  '감성 컷'
];

// 날짜 기반 인덱스 (주 단위로 순환)
const dayOfMonth = new Date(date).getDate();
const categoryIndex = Math.floor((dayOfMonth - 1) / 7) % categories.length;
const imageCategory = categories[categoryIndex];
```

---

## 🎯 Phase 3: 프롬프트 아이디어 및 템플릿 확장

### 3.1 배경 이미지 프롬프트 아이디어

#### Account1 (시니어 중심, 골드·브라운 톤)

**월요일 - 절경 골프코스**
1. "해돋이 산악 명문코스, 설악산 인근 프리미엄 골프장, 따뜻한 골드 톤, 감성적 분위기"
2. "일출과 함께하는 절경 골프코스, 지리산 인근 챔피언십 코스, 따뜻한 조명, 웅장한 풍경"
3. "아침 안개 속 프리미엄 골프장, 산악 코스의 웅장함, 골드·브라운 톤, 자연스러운 분위기"

**화요일 - MASSGOO 매장 외관**
1. "MASSGOO 매장 외관, 프리미엄 느낌의 따뜻한 조명, 골드·브라운 톤, 시니어 골퍼를 위한 공간"
2. "전문 피팅 매장 외관, 따뜻한 인테리어 조명, 골드 톤, 따뜻한 분위기"
3. "프리미엄 골프 매장, 따뜻한 분위기, 골드 톤 조명, 감성적 공간"

**수요일 - MASSGOO 인테리어**
1. "MASSGOO 매장 인테리어, 피팅 공간, 따뜻한 조명, 골드·브라운 톤, 편안한 분위기"
2. "전문 피팅 룸, 따뜻한 조명, 골드 톤, 시니어 골퍼를 위한 공간"
3. "프리미엄 매장 내부, 따뜻한 분위기, 골드 톤 조명, 감성적 인테리어"

**목요일 - 드라이버 스윙 컷**
1. "시니어 골퍼 스윙 순간, 따뜻한 골드 톤, 감성적 분위기, 자연스러운 동작"
2. "골프 스윙 장면, 따뜻한 조명, 골드·브라운 톤, 시니어 골퍼의 우아함"
3. "드라이버 스윙 컷, 따뜻한 분위기, 골드 톤, 감성적 순간"

**금요일 - 하이테크 피팅 공간**
1. "샤프트/헤드 클로즈업, 따뜻한 골드 톤, 전문적 분위기, 프리미엄 느낌"
2. "피팅 장비 클로즈업, 따뜻한 조명, 골드·브라운 톤, 전문적 공간"
3. "하이테크 피팅 도구, 따뜻한 톤, 골드 톤 조명, 감성적 분위기"

**토요일 - 해외 명문 코스**
1. "해변/해안 명문코스, 제주도 해안 코스, 따뜻한 골드 톤, 감성적 분위기"
2. "부산 해안 골프장, 따뜻한 조명, 골드·브라운 톤, 자연스러운 풍경"
3. "해안 프리미엄 코스, 따뜻한 분위기, 골드 톤, 감성적 장면"

**일요일 - 자연·노을·휴식**
1. "따뜻한 자연, 노을, 감성적 분위기, 골드·브라운 톤, 편안한 느낌"
2. "일몰 골프장, 따뜻한 조명, 골드 톤, 감성적 순간"
3. "자연 풍경, 노을, 따뜻한 분위기, 골드 톤, 휴식의 감성"

#### Account2 (하이테크 중심, 블루·그레이 톤)

**월요일 - 스코틀랜드 스타일**
1. "스코틀랜드 스타일 골프코스, St. Andrews 스타일, 쿨 블루·그레이 톤, 현대적 디자인"
2. "클래식 명문코스, Royal Troon 스타일, 쿨 톤, 하이테크 감성"
3. "유럽 스타일 프리미엄 코스, 쿨 블루·그레이 톤, 현대적 분위기"

**화요일 - 하이테크 매장 외관**
1. "MASSGOO 매장 외관, 현대적 하이테크 외관, 쿨 블루·그레이 톤, 전문적 분위기"
2. "하이테크 매장, 현대적 디자인, 쿨 톤, 혁신적 공간"
3. "프리미엄 매장 외관, 쿨 블루·그레이 톤, 현대적 분위기"

**수요일 - 하이테크 피팅 공간**
1. "하이테크 피팅 공간, 전문적 분위기, 쿨 블루·그레이 톤, 혁신적 인테리어"
2. "전문 피팅 룸, 현대적 디자인, 쿨 톤, 하이테크 감성"
3. "프리미엄 피팅 공간, 쿨 블루·그레이 톤, 전문적 분위기"

**목요일 - 젊은 골퍼 스윙**
1. "젊은 골퍼 스윙 순간, 쿨 블루·그레이 톤, 혁신적 분위기, 역동적 동작"
2. "골프 스윙 장면, 현대적 조명, 쿨 톤, 젊은 골퍼의 역동성"
3. "드라이버 스윙 컷, 쿨 블루·그레이 톤, 혁신적 순간"

**금요일 - 샤프트/헤드 클로즈업**
1. "샤프트/헤드 클로즈업, 쿨 블루·그레이 톤, 전문적 분위기, 하이테크 느낌"
2. "피팅 장비 클로즈업, 현대적 조명, 쿨 톤, 혁신적 공간"
3. "하이테크 피팅 도구, 쿨 블루·그레이 톤, 전문적 분위기"

**토요일 - 유럽 명문 코스**
1. "유럽 명문코스, 스페인 프리미엄 코스, 쿨 블루·그레이 톤, 현대적 디자인"
2. "포르투갈 프리미엄 코스, 쿨 톤, 하이테크 감성"
3. "유럽 스타일 프리미엄 코스, 쿨 블루·그레이 톤, 혁신적 분위기"

**일요일 - 감성 조명**
1. "감성 조명, 기술적 감성, 쿨 블루·그레이 톤, 현대적 분위기"
2. "하이테크 감성 컷, 쿨 톤, 혁신적 순간"
3. "기술적 감성, 쿨 블루·그레이 톤, 현대적 분위기"

### 3.2 프로필 이미지 프롬프트 아이디어

#### Account1 (시니어 중심)

**월요일 - 브랜드 인물형**
1. "시니어 골퍼 실루엣, 따뜻한 골드 톤, 감성적 분위기, 우아한 포즈"
2. "대표님 실루엣, 따뜻한 조명, 골드·브라운 톤, 품격 있는 분위기"
3. "시니어 골퍼 인물형, 따뜻한 톤, 감성적 순간"

**화요일 - 골퍼 정면**
1. "시니어 골퍼 정면, 따뜻한 표정, 골드 톤, 감성적 분위기"
2. "골퍼 정면 포즈, 따뜻한 조명, 골드·브라운 톤, 친근한 느낌"
3. "시니어 골퍼 얼굴, 따뜻한 분위기, 골드 톤, 감성적 표정"

**수요일 - 스윙 순간**
1. "시니어 골퍼 스윙, 따뜻한 골드 톤, 감성적 분위기, 우아한 동작"
2. "골프 스윙 순간, 따뜻한 조명, 골드·브라운 톤, 자연스러운 움직임"
3. "시니어 스윙 컷, 따뜻한 분위기, 골드 톤, 감성적 순간"

**목요일 - 제품 클로즈업**
1. "드라이버 헤드 클로즈업, 골드 톤, 따뜻한 조명, 프리미엄 느낌"
2. "골프 드라이버 클로즈업, 골드·브라운 톤, 전문적 분위기"
3. "제품 클로즈업, 따뜻한 톤, 골드 톤 조명, 감성적 분위기"

**금요일 - 매장 직원/고객**
1. "고객 응대 컷, 따뜻한 분위기, 골드 톤, 친근한 느낌"
2. "매장 상담 장면, 따뜻한 조명, 골드·브라운 톤, 감성적 공간"
3. "고객 서비스 컷, 따뜻한 분위기, 골드 톤, 편안한 느낌"

**토요일 - 브랜드 강조형**
1. "MASSGOO 로고 강조형, 골드 톤, 따뜻한 조명, 프리미엄 느낌"
2. "브랜드 강조 컷, 골드·브라운 톤, 감성적 분위기"
3. "로고 강조형, 따뜻한 톤, 골드 톤 조명, 품격 있는 느낌"

**일요일 - 감성 컷**
1. "잔디, 노을, 골프공 등, 따뜻한 골드 톤, 감성적 분위기"
2. "자연 감성 컷, 따뜻한 조명, 골드·브라운 톤, 편안한 느낌"
3. "감성적 장면, 따뜻한 분위기, 골드 톤, 휴식의 감성"

#### Account2 (하이테크 중심)

**월요일 - 젊은 골퍼 스윙**
1. "젊은 골퍼 스윙 순간, 쿨 블루·그레이 톤, 혁신적 분위기, 역동적 동작"
2. "골프 스윙 장면, 현대적 조명, 쿨 톤, 젊은 골퍼의 역동성"
3. "젊은 골퍼 스윙 컷, 쿨 블루·그레이 톤, 혁신적 순간"

**화요일 - 골퍼 정면**
1. "젊은 골퍼 정면, 전문적 표정, 쿨 블루·그레이 톤, 현대적 분위기"
2. "골퍼 정면 포즈, 현대적 조명, 쿨 톤, 혁신적 느낌"
3. "젊은 골퍼 얼굴, 쿨 블루·그레이 톤, 전문적 표정"

**수요일 - 스윙 순간**
1. "젊은 골퍼 스윙, 쿨 블루·그레이 톤, 혁신적 분위기, 역동적 동작"
2. "골프 스윙 순간, 현대적 조명, 쿨 톤, 젊은 골퍼의 역동성"
3. "젊은 스윙 컷, 쿨 블루·그레이 톤, 혁신적 순간"

**목요일 - 제품 클로즈업**
1. "드라이버 헤드 클로즈업, 쿨 블루·그레이 톤, 현대적 조명, 하이테크 느낌"
2. "골프 드라이버 클로즈업, 쿨 톤, 전문적 분위기"
3. "제품 클로즈업, 쿨 블루·그레이 톤, 혁신적 분위기"

**금요일 - 피팅 상담**
1. "피팅 상담 컷, 전문적 분위기, 쿨 블루·그레이 톤, 하이테크 느낌"
2. "매장 상담 장면, 현대적 조명, 쿨 톤, 혁신적 공간"
3. "피팅 서비스 컷, 쿨 블루·그레이 톤, 전문적 느낌"

**토요일 - 브랜드 강조형**
1. "MASSGOO 로고 강조형, 쿨 블루·그레이 톤, 현대적 조명, 하이테크 느낌"
2. "브랜드 강조 컷, 쿨 톤, 혁신적 분위기"
3. "로고 강조형, 쿨 블루·그레이 톤, 전문적 느낌"

**일요일 - 기술적 감성 컷**
1. "기술적 감성 컷, 쿨 블루·그레이 톤, 현대적 분위기, 혁신적 순간"
2. "하이테크 감성 컷, 쿨 톤, 전문적 느낌"
3. "기술적 장면, 쿨 블루·그레이 톤, 혁신적 분위기"

### 3.3 피드 이미지 프롬프트 아이디어

**카테고리별 프롬프트**:

1. **시니어 골퍼의 스윙**
   - Account1: "시니어 골퍼 스윙 순간, 따뜻한 골드 톤, 감성적 분위기, 우아한 동작"
   - Account2: "시니어 골퍼 스윙, 쿨 블루·그레이 톤, 전문적 분위기, 정확한 동작"

2. **피팅 상담의 모습**
   - Account1: "피팅 상담 장면, 따뜻한 골드 톤, 친근한 분위기, 편안한 느낌"
   - Account2: "하이테크 피팅 상담, 쿨 블루·그레이 톤, 전문적 분위기, 혁신적 공간"

3. **매장의 모습**
   - Account1: "MASSGOO 매장 내부, 따뜻한 골드 톤, 감성적 분위기, 편안한 공간"
   - Account2: "하이테크 매장, 쿨 블루·그레이 톤, 현대적 분위기, 전문적 공간"

4. **젊은 골퍼의 스윙**
   - Account1: "젊은 골퍼 스윙, 따뜻한 골드 톤, 활기찬 분위기, 역동적 동작"
   - Account2: "젊은 골퍼 스윙, 쿨 블루·그레이 톤, 혁신적 분위기, 역동적 동작"

5. **제품 컷**
   - Account1: "드라이버 제품 컷, 따뜻한 골드 톤, 프리미엄 느낌, 감성적 분위기"
   - Account2: "드라이버 제품 컷, 쿨 블루·그레이 톤, 하이테크 느낌, 전문적 분위기"

6. **감성 컷**
   - Account1: "감성적 골프 장면, 따뜻한 골드 톤, 자연스러운 분위기, 편안한 느낌"
   - Account2: "기술적 감성 컷, 쿨 블루·그레이 톤, 현대적 분위기, 혁신적 순간"

---

## 🎯 Phase 4: 자동화 개선

### 4.1 월별 일괄 생성 개선

**파일**: `pages/api/kakao-content/batch-generate-month.js` (신규)

**기능**:
- 월별 모든 날짜의 basePrompt 자동 생성
- 요일별 템플릿 자동 선택
- 주차별 테마 반영
- 베리에이션 자동 적용

### 4.2 베리에이션 미리보기

**파일**: `components/admin/kakao/VariationPreview.tsx` (신규)

**기능**:
- 선택한 날짜의 basePrompt 미리보기
- 요일별 템플릿 선택 미리보기
- 생성될 이미지 스타일 예상

### 4.3 자동 로테이션 관리

**파일**: `pages/api/kakao-content/manage-rotation.js` (신규)

**기능**:
- 주 단위 템플릿 로테이션 자동 관리
- 월별 이미지 카테고리 로테이션
- 베리에이션 일관성 체크

---

## 📊 구현 우선순위

### Phase 1 (즉시 구현)
1. ✅ 요일별 템플릿 파일 생성 (`lib/kakao-base-prompt-templates.js`)
2. ✅ Base Prompt 생성 API 구현 (`pages/api/kakao-content/generate-base-prompt.js`)
3. ✅ UI 연동 (FeedManager, ProfileManager)

### Phase 2 (1주 내)
1. 날짜 기반 변형 요소 추가
2. 시드값 기반 베리에이션
3. 이미지 카테고리 로테이션

### Phase 3 (2주 내)
1. 프롬프트 아이디어 확장
2. 템플릿 다양화
3. 베리에이션 테스트

### Phase 4 (3주 내)
1. 월별 일괄 생성 개선
2. 베리에이션 미리보기
3. 자동 로테이션 관리

---

## 🎨 프롬프트 아이디어 요약

### 핵심 아이디어
1. **요일별 테마 차이**: 매일 다른 콘셉트로 브랜드 리듬 생성
2. **계정별 톤 일관성**: Account1 (골드·브라운), Account2 (블루·그레이)
3. **주차별 순환**: 3개 템플릿을 주 단위로 순환하여 다양성 확보
4. **계절/날짜 반영**: 월 초/중/말, 계절별 분위기 차이

### 프롬프트 구조
```
[요일별 콘셉트] + [계정별 톤] + [주차별 테마] + [계절/날짜 분위기]
```

### 베리에이션 요소
- 요일별: 7가지 테마
- 주차별: 3가지 템플릿 순환
- 계정별: 2가지 페르소나
- 타입별: 배경/프로필/피드
- 날짜별: 월 초/중/말, 계절

---

## 📊 베리에이션 계산 결과

### 기본 조합
- **요일 × 템플릿 × 계정 × 타입**: 7 × 3 × 2 × 3 = **126가지**

### 날짜 변형 포함
- **월 초/중/말 변형**: 126 × 3 = **378가지**

### 계절 변형 포함
- **봄/여름/가을/겨울**: 126 × 4 = **504가지**

### 전체 조합 (날짜 + 계절)
- **최대 가능한 조합**: 126 × 3 × 4 = **1,512가지**

### 실제 사용 가능한 조합
- **월별**: 30일 × 2계정 × 3타입 = **180가지/월**
- **연간**: 180 × 12개월 = **2,160가지/년** (중복 없이)

### 템플릿 파일 크기
- **계정당 템플릿**: 21개 (7요일 × 3템플릿)
- **전체 템플릿**: 126개 (2계정 × 3타입)
- **예상 파일 크기**: 약 13KB

### 주차별 순환 패턴
- **1주차**: 템플릿 인덱스 0 (템플릿 1)
- **2주차**: 템플릿 인덱스 1 (템플릿 2)
- **3주차**: 템플릿 인덱스 2 (템플릿 3)
- **4주차**: 템플릿 인덱스 0 (템플릿 1) - 순환

### 요일별 테마 분포
- **월요일**: 명언형/데이터형
- **화요일**: 건강형/기술형
- **수요일**: 감성형/하이테크 매장
- **목요일**: 비거리 조언/제품 포커스
- **금요일**: 마음가짐/혁신형
- **토요일**: 라이프형/글로벌형
- **일요일**: 대표 메시지/브랜드 인사이트

