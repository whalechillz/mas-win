# ìŠ¤í† ë¦¬ ê¸°ë°˜ ì¥ë©´(S1-S7) ìë™ ê°ì§€ ë° ë©”íƒ€ë°ì´í„° ê°œì„  ê³„íš

## ğŸ“‹ ê°œìš”

ê³ ê° ì´ë¯¸ì§€ë¥¼ ìŠ¤í† ë¦¬ ê¸°ë°˜ ì¥ë©´(S1-S7)ìœ¼ë¡œ ìë™ ë¶„ë¥˜í•˜ê³ , íŒŒì¼ëª…ê³¼ ë©”íƒ€ë°ì´í„°ë¥¼ ì •í™•í•˜ê²Œ ìƒì„±í•˜ëŠ” ì‹œìŠ¤í…œì„ êµ¬ì¶•í•©ë‹ˆë‹¤.

## ğŸ¯ ëª©í‘œ

1. **íŒŒì¼ëª… ìë™ ìƒì„±**: `ê³ ê°ëª…-(S1~S7)-ë‚ ì§œ-ê³ ìœ ë²ˆí˜¸.í™•ì¥ì` í˜•ì‹
2. **ì¥ë©´ ìë™ ê°ì§€**: ì´ë¯¸ì§€ ë‚´ìš© ë¶„ì„ì„ í†µí•œ S1-S7 ìë™ ë¶„ë¥˜
3. **ë©”íƒ€ë°ì´í„° ì •í™•ë„ í–¥ìƒ**: AI í”„ë¦¬ì…‹ ê¸°ë°˜ í‚¤ì›Œë“œ ë° íƒ€ì… ê°ì§€
4. **í‚¤ì›Œë“œ ìë™ ìˆ˜ì •**: `scene-3, type-sita` â†’ `scene-1, type-happy?` ë“± ì •í™•í•œ ê°’ìœ¼ë¡œ ì—…ë°ì´íŠ¸

## ğŸ“ ì¥ë©´ ë¶„ë¥˜ ê·œì¹™ (S1-S7)

### ì¥ë©´1 (S1): í–‰ë³µí•œ ì£¼ì¸ê³µ - ê³¨í”„ì¥ ë‹¨ë…ìƒ·
- **íŠ¹ì§•**: 
  - ê³ ê° ë‹¨ë…ìƒ·, ê³¨í”„ì¥ ì‚¬ì§„
  - ì—¬ìœ ë¡­ê³  í‰í™”ë¡œìš´ ê³¨í”„ ìˆœê°„
  - ê³ ê¸‰ìŠ¤ëŸ¬ìš´ ê³¨í”„
  - ì›ƒëŠ” ëª¨ìŠµ ë˜ëŠ” ë°ì€ í‘œì •
  - ê³¨í”„ì¥ ë°°ê²½ (ì”ë””, ì½”ìŠ¤, ê·¸ë¦°)
- **í‚¤ì›Œë“œ**: `scene-1`, `type-happy`, `golf-course`, `solo-shot`
- **íŒŒì¼ëª… ì˜ˆì‹œ**: `ahnhuija-S1-20260127-01.webp`

### ì¥ë©´2 (S2): ì—¬ëŸ¬ ì‚¬ëŒ ë“±ì¥
- **íŠ¹ì§•**:
  - ê³¨í”„ì¥ì—ì„œ ì—¬ëŸ¬ ì‚¬ëŒì´ í•¨ê»˜ ë“±ì¥
  - ê·¸ë£¹ ì‚¬ì§„, ì¹œêµ¬ë“¤ê³¼ í•¨ê»˜
  - 10-15ëª… ë“±ì¥ ê°€ëŠ¥
- **í‚¤ì›Œë“œ**: `scene-2`, `type-group`, `multiple-people`, `golf-course`
- **íŒŒì¼ëª… ì˜ˆì‹œ**: `ahnhuija-S2-20260127-01.webp`

### ì¥ë©´3 (S3): ë¬¸ì œ ë°œìƒ
- **íŠ¹ì§•**:
  - í‘œì •ì´ ì–´ë‘¡ê±°ë‚˜
  - ê³¨í”„ ê³µì´ ëŸ¬í”„ì— ë¹ ì¡Œê±°ë‚˜
  - í´ëŸ½ ì˜¤ë¥˜
  - ë¶€ìƒ ë°œìƒ
  - ë¶€ì •ì ì¸ ìƒí™©
- **í‚¤ì›Œë“œ**: `scene-3`, `type-problem`, `negative-expression`, `trouble`
- **íŒŒì¼ëª… ì˜ˆì‹œ**: `ahnhuija-S3-20260127-01.webp`

### ì¥ë©´4 (S4): ê°€ì´ë“œ ë§Œë‚¨
- **íŠ¹ì§•**:
  - ìƒë‹´ì›ê³¼ í”¼íŒ… ìƒë‹´
  - ì „í™” ìƒë‹´
  - MASGOO ë§¤ì¥
  - ìŠ¤í¬ë¦° ê³¨í”„
  - ìƒë‹´, í”¼íŒ…, ê°€ì´ë“œ ê´€ë ¨
- **í‚¤ì›Œë“œ**: `scene-4`, `type-guide`, `consultation`, `fitting`, `sita`
- **íŒŒì¼ëª… ì˜ˆì‹œ**: `ahnhuija-S4-20260127-01.webp`

### ì¥ë©´5 (S5): í”¼íŒ… ë§¤ì¥ / ìŠ¤í¬ë¦° ê³¨í”„
- **íŠ¹ì§•**:
  - í”¼íŒ… ë§¤ì¥
  - ìŠ¤í¬ë¦° ê³¨í”„ ì—°ìŠµì¥
  - ì‹¤ë‚´ ìŠ¤í¬ë¦° ê³¨í”„
  - í”¼íŒ… í”„ë¡œ, MASGOO ë¡œê³ ê°€ ì„ ëª…í•˜ê²Œ ë³´ì´ëŠ” í”„ë¦¬ë¯¸ì—„ í”¼íŒ…ìƒµ
- **í‚¤ì›Œë“œ**: `scene-5`, `type-sita`, `fitting-shop`, `screen-golf`, `indoor`
- **íŒŒì¼ëª… ì˜ˆì‹œ**: `ahnhuija-S5-20260127-01.webp`

### ì¥ë©´6 (S6): ê³¨í”„ì¥ ê³ ê° ë‹¨ë…ì‚¬ì§„ (ì—¬ëŸ¬ëª… ë“±ì¥, ì›ƒëŠ” ëª¨ìŠµ)
- **íŠ¹ì§•**:
  - ê³¨í”„ì¥ ê³ ê° ë‹¨ë…ì‚¬ì§„
  - ì½”ìŠ¤ì—ì„œ ì—¬ëŸ¬ëª… ë“±ì¥
  - ì›ƒëŠ” ëª¨ìŠµ
  - í–‰ë³µí•œ ê³¨í”„ ìˆœê°„
  - ê³¨í”„ì¥ ë°°ê²½ + ì—¬ëŸ¬ ì‚¬ëŒ (ë°°ê²½ì—)
- **í‚¤ì›Œë“œ**: `scene-6`, `type-happy`, `golf-course`, `solo-with-others`, `smiling`
- **íŒŒì¼ëª… ì˜ˆì‹œ**: `ahnhuija-S6-20260127-01.webp`

### ì¥ë©´7 (S7): ì œí’ˆ í´ë¡œì¦ˆì—…
- **íŠ¹ì§•**:
  - 10-15M ì´ìƒ ì œí’ˆì— í´ë¡œì¦ˆì—…
  - ê³¨í”„ì¥ë¹„
  - MASGOO ë¡œê³ 
  - ì œí’ˆ ì¤‘ì‹¬ ì‚¬ì§„
- **í‚¤ì›Œë“œ**: `scene-7`, `type-product`, `close-up`, `equipment`, `masgoo-logo`
- **íŒŒì¼ëª… ì˜ˆì‹œ**: `ahnhuija-S7-20260127-01.webp`

## ğŸ”§ êµ¬í˜„ ê³„íš

### Phase 1: ì¥ë©´ ê°ì§€ ë¡œì§ ê°œì„ 

**íŒŒì¼**: `lib/customer-image-type-detector.ts` (ìˆ˜ì •)

**í˜„ì¬ ë¬¸ì œì **:
- ì¥ë©´ ê°ì§€ê°€ ë¶€ì •í™•í•¨ (ê³¨í”„ì¥ ì‚¬ì§„ì´ `scene-3, type-sita`ë¡œ ì˜ëª» ë¶„ë¥˜ë¨)
- í”„ë¦¬ì…‹ ê¸°ë°˜ ìƒì„¸ ê·œì¹™ì´ ë°˜ì˜ë˜ì§€ ì•ŠìŒ

**ê°œì„  ë°©ì•ˆ**:

1. **AI í”„ë¦¬ì…‹ ê¸°ë°˜ ì¥ë©´ ê°ì§€ í•¨ìˆ˜ ì¶”ê°€**
   ```typescript
   /**
    * AI í”„ë¦¬ì…‹ ê¸°ë°˜ ì¥ë©´ ê°ì§€
    * ì´ë¯¸ì§€3ì˜ í”„ë¦¬ì…‹ ê·œì¹™ì„ ì°¸ê³ í•˜ì—¬ ì •í™•í•œ ì¥ë©´ ë¶„ë¥˜
    */
   export async function detectStorySceneFromImage(
     imageUrl: string,
     aiAnalysis: string,
     metadataType: 'golf-ai' | 'general'
   ): Promise<{
     scene: 1 | 2 | 3 | 4 | 5 | 6 | 7;
     type: string;
     confidence: number;
     keywords: string[];
   }> {
     const lowerAnalysis = aiAnalysis.toLowerCase();
     
     // ì¥ë©´1: í–‰ë³µí•œ ì£¼ì¸ê³µ - ê³¨í”„ì¥ ë‹¨ë…ìƒ·
     if (
       (lowerAnalysis.includes('ê³¨í”„ì¥') || lowerAnalysis.includes('golf course')) &&
       (lowerAnalysis.includes('ë‹¨ë…') || lowerAnalysis.includes('í˜¼ì') || lowerAnalysis.includes('solo')) &&
       (lowerAnalysis.includes('ì›ƒ') || lowerAnalysis.includes('í–‰ë³µ') || lowerAnalysis.includes('ë°') || 
        lowerAnalysis.includes('smile') || lowerAnalysis.includes('happy') || lowerAnalysis.includes('bright'))
     ) {
       // ë°°ê²½ì— ì—¬ëŸ¬ ì‚¬ëŒì´ ìˆìœ¼ë©´ S6, ì—†ìœ¼ë©´ S1
       if (lowerAnalysis.includes('ì—¬ëŸ¬') || lowerAnalysis.includes('ë§ì€ ì‚¬ëŒ') || lowerAnalysis.includes('multiple people')) {
         return {
           scene: 6,
           type: 'happy',
           confidence: 0.9,
           keywords: ['golf-course', 'solo-with-others', 'smiling', 'happy']
         };
       }
       return {
         scene: 1,
         type: 'happy',
         confidence: 0.9,
         keywords: ['golf-course', 'solo-shot', 'happy', 'luxurious-golf']
       };
     }
     
     // ì¥ë©´2: ì—¬ëŸ¬ ì‚¬ëŒ ë“±ì¥
     if (
       (lowerAnalysis.includes('ì—¬ëŸ¬ ì‚¬ëŒ') || lowerAnalysis.includes('ì—¬ëŸ¬ëª…') || 
        lowerAnalysis.includes('ê·¸ë£¹') || lowerAnalysis.includes('multiple people') ||
        lowerAnalysis.includes('group')) &&
       (lowerAnalysis.includes('ê³¨í”„ì¥') || lowerAnalysis.includes('golf course'))
     ) {
       return {
         scene: 2,
         type: 'group',
         confidence: 0.85,
         keywords: ['golf-course', 'multiple-people', 'group']
       };
     }
     
     // ì¥ë©´3: ë¬¸ì œ ë°œìƒ
     if (
       lowerAnalysis.includes('ì–´ë‘¡') || lowerAnalysis.includes('ë¶€ì •') || 
       lowerAnalysis.includes('ë¬¸ì œ') || lowerAnalysis.includes('ì˜¤ë¥˜') ||
       lowerAnalysis.includes('ë¶€ìƒ') || lowerAnalysis.includes('ëŸ¬í”„') ||
       lowerAnalysis.includes('dark') || lowerAnalysis.includes('problem') ||
       lowerAnalysis.includes('error') || lowerAnalysis.includes('trouble') ||
       lowerAnalysis.includes('negative')
     ) {
       return {
         scene: 3,
         type: 'problem',
         confidence: 0.9,
         keywords: ['problem', 'trouble', 'negative-expression']
       };
     }
     
     // ì¥ë©´4: ê°€ì´ë“œ ë§Œë‚¨
     if (
       (lowerAnalysis.includes('ìƒë‹´') || lowerAnalysis.includes('í”¼íŒ…') || 
        lowerAnalysis.includes('ê°€ì´ë“œ') || lowerAnalysis.includes('consultation') ||
        lowerAnalysis.includes('fitting') || lowerAnalysis.includes('guide')) &&
       (lowerAnalysis.includes('ì „í™”') || lowerAnalysis.includes('ë§¤ì¥') ||
        lowerAnalysis.includes('phone') || lowerAnalysis.includes('store'))
     ) {
       return {
         scene: 4,
         type: 'guide',
         confidence: 0.85,
         keywords: ['consultation', 'fitting', 'guide', 'sita']
       };
     }
     
     // ì¥ë©´5: í”¼íŒ… ë§¤ì¥ / ìŠ¤í¬ë¦° ê³¨í”„
     if (
       (lowerAnalysis.includes('í”¼íŒ…') || lowerAnalysis.includes('ìŠ¤í¬ë¦° ê³¨í”„') ||
        lowerAnalysis.includes('fitting') || lowerAnalysis.includes('screen golf')) &&
       (lowerAnalysis.includes('ë§¤ì¥') || lowerAnalysis.includes('ì‹¤ë‚´') ||
        lowerAnalysis.includes('store') || lowerAnalysis.includes('indoor'))
     ) {
       return {
         scene: 5,
         type: 'sita',
         confidence: 0.85,
         keywords: ['fitting-shop', 'screen-golf', 'indoor', 'sita']
       };
     }
     
     // ì¥ë©´7: ì œí’ˆ í´ë¡œì¦ˆì—…
     if (
       (lowerAnalysis.includes('ì œí’ˆ') || lowerAnalysis.includes('ì¥ë¹„') ||
        lowerAnalysis.includes('ë¡œê³ ') || lowerAnalysis.includes('product') ||
        lowerAnalysis.includes('equipment') || lowerAnalysis.includes('logo')) &&
       (lowerAnalysis.includes('í´ë¡œì¦ˆì—…') || lowerAnalysis.includes('ê°€ê¹Œì´') ||
        lowerAnalysis.includes('close-up') || lowerAnalysis.includes('close'))
     ) {
       return {
         scene: 7,
         type: 'product',
         confidence: 0.85,
         keywords: ['product', 'close-up', 'equipment', 'masgoo-logo']
       };
     }
     
     // ê¸°ë³¸ê°’: ì¥ë©´1 (ê³¨í”„ì¥ ë‹¨ë…ìƒ·)
     return {
       scene: 1,
       type: 'happy',
       confidence: 0.6,
       keywords: ['golf-course', 'solo-shot']
     };
   }
   ```

2. **íƒ€ì… ê°ì§€ ê°œì„ **
   - `type-happy`: ì›ƒëŠ” ëª¨ìŠµ, ë°ì€ í‘œì •, í–‰ë³µí•œ ìˆœê°„
   - `type-problem`: ì–´ë‘ìš´ í‘œì •, ë¬¸ì œ ìƒí™©
   - `type-group`: ì—¬ëŸ¬ ì‚¬ëŒ
   - `type-guide`: ìƒë‹´, í”¼íŒ…
   - `type-sita`: ì‹œíƒ€ì¥, ìŠ¤í¬ë¦° ê³¨í”„
   - `type-product`: ì œí’ˆ í´ë¡œì¦ˆì—…

### Phase 2: íŒŒì¼ëª… ìƒì„± ë¡œì§ ìˆ˜ì •

**íŒŒì¼**: `lib/customer-image-filename-generator.ts` (ìˆ˜ì •)

**í˜„ì¬ í˜•ì‹**: `{ê³ ê°ëª…}_s{ì¥ë©´ì½”ë“œ}_{íƒ€ì…}_{YYYYMMDD}_{ìˆœë²ˆ}.webp`
**ìƒˆ í˜•ì‹**: `{ê³ ê°ëª…}-S{ì¥ë©´ì½”ë“œ}-{YYYYMMDD}-{ìˆœë²ˆ}.webp`

**ìˆ˜ì • ë‚´ìš©**:
```typescript
export async function generateFinalCustomerImageFileName(
  customer: { 
    name: string; 
    name_en?: string;
    folder_name?: string;
    phone?: string;
  },
  visitDate: string, // YYYY-MM-DD í˜•ì‹
  typeDetection: {
    scene: number;
    type: string;
  },
  originalFileName: string,
  index: number = 1
): Promise<{ fileName: string; filePath: string; scene: number; type: string }> {
  // ê³ ê° ì˜ë¬¸ ì´ë¦„
  const customerNameEn = customer.name_en || translateKoreanToEnglish(customer.name);
  const nameEn = customerNameEn.toLowerCase().replace(/[^a-z0-9]/g, '');
  
  // ë‚ ì§œ í˜•ì‹: YYYY-MM-DD â†’ YYYYMMDD
  const dateStr = visitDate.replace(/-/g, '');
  
  // ì¥ë©´ ì½”ë“œ: S1, S2, S3, S4, S5, S6, S7
  const sceneCode = `S${typeDetection.scene}`;
  
  // ìˆœë²ˆ ìƒì„±
  const sequenceStr = String(index).padStart(2, '0');
  
  // í™•ì¥ì (ë™ì˜ìƒì€ ì›ë³¸ í™•ì¥ì ìœ ì§€, ì´ë¯¸ì§€ëŠ” webp)
  const isVideo = /\.(mp4|mov|avi|webm|mkv)$/i.test(originalFileName);
  const originalExt = originalFileName.match(/\.[^/.]+$/)?.[0] || '.webp';
  const extension = isVideo ? originalExt : '.webp';
  
  // íŒŒì¼ëª… ìƒì„±: {ê³ ê°ëª…}-S{ì¥ë©´ì½”ë“œ}-{YYYYMMDD}-{ìˆœë²ˆ}.{í™•ì¥ì}
  const fileName = `${nameEn}-${sceneCode}-${dateStr}-${sequenceStr}${extension}`;
  
  // ê³ ê° í´ë”ëª… ìƒì„±
  const { generateCustomerFolderName } = require('./customer-folder-name-generator');
  const customerFolderName = customer.folder_name || generateCustomerFolderName({
    name: customer.name,
    phone: customer.phone || ''
  });
  
  // íŒŒì¼ ê²½ë¡œ
  const filePath = `originals/customers/${customerFolderName}/${visitDate}/${fileName}`;
  
  return {
    fileName,
    filePath,
    scene: typeDetection.scene,
    type: typeDetection.type
  };
}
```

### Phase 3: ë©”íƒ€ë°ì´í„° í‚¤ì›Œë“œ ìë™ ìˆ˜ì •

**íŒŒì¼**: `pages/api/admin/create-customer-image-metadata.ts` (ìˆ˜ì •)

**ìˆ˜ì • ë‚´ìš©**:
1. ì¥ë©´ ê°ì§€ ê²°ê³¼ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í‚¤ì›Œë“œ ìë™ ìƒì„±
2. `scene-{ë²ˆí˜¸}`, `type-{íƒ€ì…}` í‚¤ì›Œë“œ ì •í™•íˆ ì„¤ì •
3. ALT í…ìŠ¤íŠ¸ì™€ ì„¤ëª…ì—ì„œ ê°ì •/ì¥ì†Œ ì¶”ì¶œí•˜ì—¬ íƒ€ì… ê²°ì •

```typescript
// ì¥ë©´ ê°ì§€ í›„ í‚¤ì›Œë“œ ìƒì„±
const aiTags = [
  `customer-${customerId}`,
  `visit-${visitDate}`,
  `scene-${typeDetection.scene}`, // ì •í™•í•œ ì¥ë©´ ë²ˆí˜¸
  `type-${typeDetection.type}`, // ì •í™•í•œ íƒ€ì… (happy, problem, group ë“±)
  ...typeDetection.keywords
];

// ALT í…ìŠ¤íŠ¸ì—ì„œ ê°ì •/ì¥ì†Œ ì¶”ì¶œ
const emotionKeywords = extractEmotionFromText(metadata.alt_text || metadata.description || '');
if (emotionKeywords.includes('ì›ƒ') || emotionKeywords.includes('í–‰ë³µ') || emotionKeywords.includes('ë°')) {
  // typeì„ happyë¡œ í™•ì •
  typeDetection.type = 'happy';
}
```

### Phase 4: AI ë¶„ì„ í”„ë¡¬í”„íŠ¸ ê°œì„ 

**íŒŒì¼**: `pages/api/analyze-image-prompt.js` ë˜ëŠ” `pages/api/analyze-image-general.js` (ìˆ˜ì •)

**í”„ë¦¬ì…‹ ê¸°ë°˜ í”„ë¡¬í”„íŠ¸ ì¶”ê°€**:
```javascript
const sceneDetectionPrompt = `
ì´ ì´ë¯¸ì§€ë¥¼ ë‹¤ìŒ ìŠ¤í† ë¦¬ ì¥ë©´ ì¤‘ í•˜ë‚˜ë¡œ ë¶„ë¥˜í•´ì£¼ì„¸ìš”:

ì¥ë©´1 (S1): í–‰ë³µí•œ ì£¼ì¸ê³µ - ê³¨í”„ì¥ ë‹¨ë…ìƒ·
- ê³ ê° ë‹¨ë…ìƒ·, ê³¨í”„ì¥ ì‚¬ì§„
- ì—¬ìœ ë¡­ê³  í‰í™”ë¡œìš´ ê³¨í”„ ìˆœê°„, ê³ ê¸‰ìŠ¤ëŸ¬ìš´ ê³¨í”„
- ì›ƒëŠ” ëª¨ìŠµ ë˜ëŠ” ë°ì€ í‘œì •

ì¥ë©´2 (S2): ì—¬ëŸ¬ ì‚¬ëŒ ë“±ì¥
- ê³¨í”„ì¥ì—ì„œ ì—¬ëŸ¬ ì‚¬ëŒì´ í•¨ê»˜ ë“±ì¥
- ê·¸ë£¹ ì‚¬ì§„, ì¹œêµ¬ë“¤ê³¼ í•¨ê»˜

ì¥ë©´3 (S3): ë¬¸ì œ ë°œìƒ
- í‘œì •ì´ ì–´ë‘¡ê±°ë‚˜
- ê³¨í”„ ê³µì´ ëŸ¬í”„ì— ë¹ ì¡Œê±°ë‚˜
- í´ëŸ½ ì˜¤ë¥˜, ë¶€ìƒ ë°œìƒ

ì¥ë©´4 (S4): ê°€ì´ë“œ ë§Œë‚¨
- ìƒë‹´ì›ê³¼ í”¼íŒ… ìƒë‹´, ì „í™” ìƒë‹´
- MASGOO ë§¤ì¥, ìŠ¤í¬ë¦° ê³¨í”„

ì¥ë©´5 (S5): í”¼íŒ… ë§¤ì¥ / ìŠ¤í¬ë¦° ê³¨í”„
- í”¼íŒ… ë§¤ì¥, ìŠ¤í¬ë¦° ê³¨í”„ ì—°ìŠµì¥
- ì‹¤ë‚´ ìŠ¤í¬ë¦° ê³¨í”„

ì¥ë©´6 (S6): ê³¨í”„ì¥ ê³ ê° ë‹¨ë…ì‚¬ì§„ (ì—¬ëŸ¬ëª… ë“±ì¥, ì›ƒëŠ” ëª¨ìŠµ)
- ê³¨í”„ì¥ ê³ ê° ë‹¨ë…ì‚¬ì§„
- ì½”ìŠ¤ì—ì„œ ì—¬ëŸ¬ëª… ë“±ì¥
- ì›ƒëŠ” ëª¨ìŠµ

ì¥ë©´7 (S7): ì œí’ˆ í´ë¡œì¦ˆì—…
- 10-15M ì´ìƒ ì œí’ˆì— í´ë¡œì¦ˆì—…
- ê³¨í”„ì¥ë¹„, MASGOO ë¡œê³ 

ë¶„ë¥˜ ê²°ê³¼ë¥¼ ë‹¤ìŒ í˜•ì‹ìœ¼ë¡œ ì œê³µí•´ì£¼ì„¸ìš”:
- ì¥ë©´ ë²ˆí˜¸: S1, S2, S3, S4, S5, S6, S7 ì¤‘ í•˜ë‚˜
- íƒ€ì…: happy, problem, group, guide, sita, product ì¤‘ í•˜ë‚˜
- ì£¼ìš” í‚¤ì›Œë“œ: 3-5ê°œ
- ê°ì •/í‘œì •: ì›ƒëŠ” ëª¨ìŠµ, ì–´ë‘ìš´ í‘œì • ë“±
- ì¥ì†Œ: ê³¨í”„ì¥, ë§¤ì¥, ì‹¤ë‚´ ë“±
`;
```

### Phase 5: ê¸°ì¡´ ì´ë¯¸ì§€ ë©”íƒ€ë°ì´í„° ìˆ˜ì • API

**íŒŒì¼**: `pages/api/admin/update-image-scene-metadata.ts` (ì‹ ê·œ)

**ê¸°ëŠ¥**:
- ê¸°ì¡´ ì´ë¯¸ì§€ì˜ ì¥ë©´ ë²ˆí˜¸ë¥¼ ì¬ë¶„ì„í•˜ì—¬ ìˆ˜ì •
- `scene-3, type-sita` â†’ `scene-1, type-happy` ìë™ ìˆ˜ì •
- íŒŒì¼ëª…ë„ í•¨ê»˜ ì—…ë°ì´íŠ¸ (ì„ íƒì )

## ğŸ“ ë³€ê²½ íŒŒì¼ ëª©ë¡

1. **ìˆ˜ì • íŒŒì¼**:
   - `lib/customer-image-type-detector.ts` (ì¥ë©´ ê°ì§€ ë¡œì§ ê°œì„ )
   - `lib/customer-image-filename-generator.ts` (íŒŒì¼ëª… í˜•ì‹ ë³€ê²½)
   - `pages/api/admin/create-customer-image-metadata.ts` (í‚¤ì›Œë“œ ìë™ ìˆ˜ì •)
   - `pages/api/analyze-image-prompt.js` (í”„ë¦¬ì…‹ ê¸°ë°˜ í”„ë¡¬í”„íŠ¸ ì¶”ê°€)

2. **ì‹ ê·œ íŒŒì¼**:
   - `pages/api/admin/update-image-scene-metadata.ts` (ê¸°ì¡´ ì´ë¯¸ì§€ ì¬ë¶„ì„)

3. **ë¬¸ì„œ ì—…ë°ì´íŠ¸**:
   - `docs/project_plan.md`

## âœ… êµ¬í˜„ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] ì¥ë©´ ê°ì§€ ë¡œì§ ê°œì„  (í”„ë¦¬ì…‹ ê¸°ë°˜)
- [ ] íŒŒì¼ëª… í˜•ì‹ ë³€ê²½ (`-S1-` í˜•ì‹)
- [ ] íƒ€ì… ê°ì§€ ê°œì„  (happy, problem, group ë“±)
- [ ] AI ë¶„ì„ í”„ë¡¬í”„íŠ¸ì— í”„ë¦¬ì…‹ ê·œì¹™ ì¶”ê°€
- [ ] ë©”íƒ€ë°ì´í„° í‚¤ì›Œë“œ ìë™ ìˆ˜ì • ë¡œì§
- [ ] ê¸°ì¡´ ì´ë¯¸ì§€ ì¬ë¶„ì„ API (ì„ íƒì )
- [ ] í…ŒìŠ¤íŠ¸ ë° ê²€ì¦

## ğŸ” ì¶”ê°€ ê³ ë ¤ì‚¬í•­

1. **ì´ë¯¸ì§€ 1,2 ë¶„ì„**: ê³¨í”„ì¥ ì‚¬ì§„ì´ë¯€ë¡œ S1 ë˜ëŠ” S6ë¡œ ì •í™•íˆ ë¶„ë¥˜
2. **í‘œì • ê°ì§€**: AI Vision APIë¡œ í‘œì • ë¶„ì„ (ì›ƒëŠ” ëª¨ìŠµ vs ì–´ë‘ìš´ í‘œì •)
3. **ì‚¬ëŒ ìˆ˜ ê°ì§€**: ë‹¨ë…ìƒ· vs ì—¬ëŸ¬ ì‚¬ëŒ ë“±ì¥ êµ¬ë¶„
4. **ì¥ì†Œ ê°ì§€**: ê³¨í”„ì¥ vs ë§¤ì¥ vs ì‹¤ë‚´ êµ¬ë¶„
5. **ê¸°ì¡´ ì´ë¯¸ì§€ ë§ˆì´ê·¸ë ˆì´ì…˜**: ì˜ëª» ë¶„ë¥˜ëœ ì´ë¯¸ì§€ ì¬ë¶„ì„ ë° ìˆ˜ì •
