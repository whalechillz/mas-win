# Phase 6: 전화번호 매칭 가이드

## 📋 문서 정보
- **작성일**: 2025-11-26
- **상태**: 구현 완료

---

## 🎯 목적

전화번호가 없는 302건의 예약 데이터를 이름, 날짜, 이메일을 기준으로 자동 매칭하여 전화번호를 찾아주는 기능

---

## 📊 매칭 결과 (최초 실행)

- **전화번호 없는 행**: 302건
- **매칭 성공**: 92건
  - High confidence: 18건 (이름 + 이메일/날짜 일치)
  - Medium confidence: 55건 (이름 일치, 날짜 다름)
  - Low confidence: 19건 (이름 유사)
- **매칭 실패**: 210건 (수동 입력 필요)

---

## 🔍 매칭 전략

### 1. High Confidence (자동 적용 권장)
- **이름 + 이메일 일치**: 같은 이름과 이메일을 가진 다른 예약에서 전화번호 찾기
- **이름 + 날짜 일치**: 같은 이름과 같은 날짜의 예약에서 전화번호 찾기

### 2. Medium Confidence (검토 후 적용)
- **이름 일치 (날짜 다름)**: 같은 이름이지만 다른 날짜의 예약에서 전화번호 찾기
- 여러 예약이 있는 경우 가장 최근 예약의 전화번호 사용

### 3. Low Confidence (수동 검토 필수)
- **이름 유사**: 이름이 부분적으로 일치하는 경우
- 공백, 괄호 제거 후 비교

---

## 🛠️ 사용 방법

### 1단계: 매칭 스크립트 실행

```bash
node scripts/match-missing-phones.js
```

**결과**:
- `backup/phone-matching-report-{timestamp}.json`: 상세 매칭 보고서
- `backup/phone-updates-{timestamp}.csv`: CSV 업데이트 가이드

### 2단계: 매칭 결과 검토

보고서 파일을 열어서 매칭 결과 확인:
- High confidence 매칭은 자동 적용 가능
- Medium/Low confidence는 수동 검토 필요

### 3단계: 매칭 결과 적용

#### High confidence만 자동 적용 (권장)
```bash
node scripts/apply-phone-matches.js --auto-high
```

#### 모든 매칭 적용 (주의 필요)
```bash
node scripts/apply-phone-matches.js
```

**결과**:
- 원본 CSV 백업 생성
- 업데이트된 CSV 저장: `database/예약 목록-2025. 11. 26-updated.csv`

### 4단계: 재마이그레이션

업데이트된 CSV로 재마이그레이션:
```bash
node scripts/migrate-wix-bookings.js database/예약\ 목록-2025.\ 11.\ 26-updated.csv
```

---

## 📋 매칭 예시

### High Confidence 예시
```
원본: 최일경 (2025-07-16, 전화번호 없음)
매칭: 최일경 (2025-07-16, 01052325102) ✅
이유: 이름 + 날짜 일치
```

### Medium Confidence 예시
```
원본: 박종규 (2025-10-03, 전화번호 없음)
매칭: 박종규 (2024-08-06, 01089927747) ⚠️
이유: 이름 일치 (날짜 다름)
```

### 매칭 실패 예시
```
원본: 김상동(장현임) (2025-09-22, 전화번호 없음)
매칭: 없음 ❌
이유: 같은 이름의 다른 예약이 없음
```

---

## ⚠️ 주의사항

1. **High confidence만 자동 적용 권장**
   - Medium/Low confidence는 수동 검토 후 적용
   - 같은 이름이라도 다른 사람일 수 있음

2. **백업 필수**
   - 원본 CSV는 자동으로 백업됨
   - 적용 전에 백업 파일 확인

3. **수동 검토 필요**
   - 매칭 실패한 210건은 수동으로 전화번호 입력 필요
   - 관리자 페이지에서 수동 입력 기능 사용 가능

---

## 🔄 업데이트 이력
- **2025-11-26**: 전화번호 매칭 스크립트 구현 완료








## 📋 문서 정보
- **작성일**: 2025-11-26
- **상태**: 구현 완료

---

## 🎯 목적

전화번호가 없는 302건의 예약 데이터를 이름, 날짜, 이메일을 기준으로 자동 매칭하여 전화번호를 찾아주는 기능

---

## 📊 매칭 결과 (최초 실행)

- **전화번호 없는 행**: 302건
- **매칭 성공**: 92건
  - High confidence: 18건 (이름 + 이메일/날짜 일치)
  - Medium confidence: 55건 (이름 일치, 날짜 다름)
  - Low confidence: 19건 (이름 유사)
- **매칭 실패**: 210건 (수동 입력 필요)

---

## 🔍 매칭 전략

### 1. High Confidence (자동 적용 권장)
- **이름 + 이메일 일치**: 같은 이름과 이메일을 가진 다른 예약에서 전화번호 찾기
- **이름 + 날짜 일치**: 같은 이름과 같은 날짜의 예약에서 전화번호 찾기

### 2. Medium Confidence (검토 후 적용)
- **이름 일치 (날짜 다름)**: 같은 이름이지만 다른 날짜의 예약에서 전화번호 찾기
- 여러 예약이 있는 경우 가장 최근 예약의 전화번호 사용

### 3. Low Confidence (수동 검토 필수)
- **이름 유사**: 이름이 부분적으로 일치하는 경우
- 공백, 괄호 제거 후 비교

---

## 🛠️ 사용 방법

### 1단계: 매칭 스크립트 실행

```bash
node scripts/match-missing-phones.js
```

**결과**:
- `backup/phone-matching-report-{timestamp}.json`: 상세 매칭 보고서
- `backup/phone-updates-{timestamp}.csv`: CSV 업데이트 가이드

### 2단계: 매칭 결과 검토

보고서 파일을 열어서 매칭 결과 확인:
- High confidence 매칭은 자동 적용 가능
- Medium/Low confidence는 수동 검토 필요

### 3단계: 매칭 결과 적용

#### High confidence만 자동 적용 (권장)
```bash
node scripts/apply-phone-matches.js --auto-high
```

#### 모든 매칭 적용 (주의 필요)
```bash
node scripts/apply-phone-matches.js
```

**결과**:
- 원본 CSV 백업 생성
- 업데이트된 CSV 저장: `database/예약 목록-2025. 11. 26-updated.csv`

### 4단계: 재마이그레이션

업데이트된 CSV로 재마이그레이션:
```bash
node scripts/migrate-wix-bookings.js database/예약\ 목록-2025.\ 11.\ 26-updated.csv
```

---

## 📋 매칭 예시

### High Confidence 예시
```
원본: 최일경 (2025-07-16, 전화번호 없음)
매칭: 최일경 (2025-07-16, 01052325102) ✅
이유: 이름 + 날짜 일치
```

### Medium Confidence 예시
```
원본: 박종규 (2025-10-03, 전화번호 없음)
매칭: 박종규 (2024-08-06, 01089927747) ⚠️
이유: 이름 일치 (날짜 다름)
```

### 매칭 실패 예시
```
원본: 김상동(장현임) (2025-09-22, 전화번호 없음)
매칭: 없음 ❌
이유: 같은 이름의 다른 예약이 없음
```

---

## ⚠️ 주의사항

1. **High confidence만 자동 적용 권장**
   - Medium/Low confidence는 수동 검토 후 적용
   - 같은 이름이라도 다른 사람일 수 있음

2. **백업 필수**
   - 원본 CSV는 자동으로 백업됨
   - 적용 전에 백업 파일 확인

3. **수동 검토 필요**
   - 매칭 실패한 210건은 수동으로 전화번호 입력 필요
   - 관리자 페이지에서 수동 입력 기능 사용 가능

---

## 🔄 업데이트 이력
- **2025-11-26**: 전화번호 매칭 스크립트 구현 완료








## 📋 문서 정보
- **작성일**: 2025-11-26
- **상태**: 구현 완료

---

## 🎯 목적

전화번호가 없는 302건의 예약 데이터를 이름, 날짜, 이메일을 기준으로 자동 매칭하여 전화번호를 찾아주는 기능

---

## 📊 매칭 결과 (최초 실행)

- **전화번호 없는 행**: 302건
- **매칭 성공**: 92건
  - High confidence: 18건 (이름 + 이메일/날짜 일치)
  - Medium confidence: 55건 (이름 일치, 날짜 다름)
  - Low confidence: 19건 (이름 유사)
- **매칭 실패**: 210건 (수동 입력 필요)

---

## 🔍 매칭 전략

### 1. High Confidence (자동 적용 권장)
- **이름 + 이메일 일치**: 같은 이름과 이메일을 가진 다른 예약에서 전화번호 찾기
- **이름 + 날짜 일치**: 같은 이름과 같은 날짜의 예약에서 전화번호 찾기

### 2. Medium Confidence (검토 후 적용)
- **이름 일치 (날짜 다름)**: 같은 이름이지만 다른 날짜의 예약에서 전화번호 찾기
- 여러 예약이 있는 경우 가장 최근 예약의 전화번호 사용

### 3. Low Confidence (수동 검토 필수)
- **이름 유사**: 이름이 부분적으로 일치하는 경우
- 공백, 괄호 제거 후 비교

---

## 🛠️ 사용 방법

### 1단계: 매칭 스크립트 실행

```bash
node scripts/match-missing-phones.js
```

**결과**:
- `backup/phone-matching-report-{timestamp}.json`: 상세 매칭 보고서
- `backup/phone-updates-{timestamp}.csv`: CSV 업데이트 가이드

### 2단계: 매칭 결과 검토

보고서 파일을 열어서 매칭 결과 확인:
- High confidence 매칭은 자동 적용 가능
- Medium/Low confidence는 수동 검토 필요

### 3단계: 매칭 결과 적용

#### High confidence만 자동 적용 (권장)
```bash
node scripts/apply-phone-matches.js --auto-high
```

#### 모든 매칭 적용 (주의 필요)
```bash
node scripts/apply-phone-matches.js
```

**결과**:
- 원본 CSV 백업 생성
- 업데이트된 CSV 저장: `database/예약 목록-2025. 11. 26-updated.csv`

### 4단계: 재마이그레이션

업데이트된 CSV로 재마이그레이션:
```bash
node scripts/migrate-wix-bookings.js database/예약\ 목록-2025.\ 11.\ 26-updated.csv
```

---

## 📋 매칭 예시

### High Confidence 예시
```
원본: 최일경 (2025-07-16, 전화번호 없음)
매칭: 최일경 (2025-07-16, 01052325102) ✅
이유: 이름 + 날짜 일치
```

### Medium Confidence 예시
```
원본: 박종규 (2025-10-03, 전화번호 없음)
매칭: 박종규 (2024-08-06, 01089927747) ⚠️
이유: 이름 일치 (날짜 다름)
```

### 매칭 실패 예시
```
원본: 김상동(장현임) (2025-09-22, 전화번호 없음)
매칭: 없음 ❌
이유: 같은 이름의 다른 예약이 없음
```

---

## ⚠️ 주의사항

1. **High confidence만 자동 적용 권장**
   - Medium/Low confidence는 수동 검토 후 적용
   - 같은 이름이라도 다른 사람일 수 있음

2. **백업 필수**
   - 원본 CSV는 자동으로 백업됨
   - 적용 전에 백업 파일 확인

3. **수동 검토 필요**
   - 매칭 실패한 210건은 수동으로 전화번호 입력 필요
   - 관리자 페이지에서 수동 입력 기능 사용 가능

---

## 🔄 업데이트 이력
- **2025-11-26**: 전화번호 매칭 스크립트 구현 완료








## 📋 문서 정보
- **작성일**: 2025-11-26
- **상태**: 구현 완료

---

## 🎯 목적

전화번호가 없는 302건의 예약 데이터를 이름, 날짜, 이메일을 기준으로 자동 매칭하여 전화번호를 찾아주는 기능

---

## 📊 매칭 결과 (최초 실행)

- **전화번호 없는 행**: 302건
- **매칭 성공**: 92건
  - High confidence: 18건 (이름 + 이메일/날짜 일치)
  - Medium confidence: 55건 (이름 일치, 날짜 다름)
  - Low confidence: 19건 (이름 유사)
- **매칭 실패**: 210건 (수동 입력 필요)

---

## 🔍 매칭 전략

### 1. High Confidence (자동 적용 권장)
- **이름 + 이메일 일치**: 같은 이름과 이메일을 가진 다른 예약에서 전화번호 찾기
- **이름 + 날짜 일치**: 같은 이름과 같은 날짜의 예약에서 전화번호 찾기

### 2. Medium Confidence (검토 후 적용)
- **이름 일치 (날짜 다름)**: 같은 이름이지만 다른 날짜의 예약에서 전화번호 찾기
- 여러 예약이 있는 경우 가장 최근 예약의 전화번호 사용

### 3. Low Confidence (수동 검토 필수)
- **이름 유사**: 이름이 부분적으로 일치하는 경우
- 공백, 괄호 제거 후 비교

---

## 🛠️ 사용 방법

### 1단계: 매칭 스크립트 실행

```bash
node scripts/match-missing-phones.js
```

**결과**:
- `backup/phone-matching-report-{timestamp}.json`: 상세 매칭 보고서
- `backup/phone-updates-{timestamp}.csv`: CSV 업데이트 가이드

### 2단계: 매칭 결과 검토

보고서 파일을 열어서 매칭 결과 확인:
- High confidence 매칭은 자동 적용 가능
- Medium/Low confidence는 수동 검토 필요

### 3단계: 매칭 결과 적용

#### High confidence만 자동 적용 (권장)
```bash
node scripts/apply-phone-matches.js --auto-high
```

#### 모든 매칭 적용 (주의 필요)
```bash
node scripts/apply-phone-matches.js
```

**결과**:
- 원본 CSV 백업 생성
- 업데이트된 CSV 저장: `database/예약 목록-2025. 11. 26-updated.csv`

### 4단계: 재마이그레이션

업데이트된 CSV로 재마이그레이션:
```bash
node scripts/migrate-wix-bookings.js database/예약\ 목록-2025.\ 11.\ 26-updated.csv
```

---

## 📋 매칭 예시

### High Confidence 예시
```
원본: 최일경 (2025-07-16, 전화번호 없음)
매칭: 최일경 (2025-07-16, 01052325102) ✅
이유: 이름 + 날짜 일치
```

### Medium Confidence 예시
```
원본: 박종규 (2025-10-03, 전화번호 없음)
매칭: 박종규 (2024-08-06, 01089927747) ⚠️
이유: 이름 일치 (날짜 다름)
```

### 매칭 실패 예시
```
원본: 김상동(장현임) (2025-09-22, 전화번호 없음)
매칭: 없음 ❌
이유: 같은 이름의 다른 예약이 없음
```

---

## ⚠️ 주의사항

1. **High confidence만 자동 적용 권장**
   - Medium/Low confidence는 수동 검토 후 적용
   - 같은 이름이라도 다른 사람일 수 있음

2. **백업 필수**
   - 원본 CSV는 자동으로 백업됨
   - 적용 전에 백업 파일 확인

3. **수동 검토 필요**
   - 매칭 실패한 210건은 수동으로 전화번호 입력 필요
   - 관리자 페이지에서 수동 입력 기능 사용 가능

---

## 🔄 업데이트 이력
- **2025-11-26**: 전화번호 매칭 스크립트 구현 완료








## 📋 문서 정보
- **작성일**: 2025-11-26
- **상태**: 구현 완료

---

## 🎯 목적

전화번호가 없는 302건의 예약 데이터를 이름, 날짜, 이메일을 기준으로 자동 매칭하여 전화번호를 찾아주는 기능

---

## 📊 매칭 결과 (최초 실행)

- **전화번호 없는 행**: 302건
- **매칭 성공**: 92건
  - High confidence: 18건 (이름 + 이메일/날짜 일치)
  - Medium confidence: 55건 (이름 일치, 날짜 다름)
  - Low confidence: 19건 (이름 유사)
- **매칭 실패**: 210건 (수동 입력 필요)

---

## 🔍 매칭 전략

### 1. High Confidence (자동 적용 권장)
- **이름 + 이메일 일치**: 같은 이름과 이메일을 가진 다른 예약에서 전화번호 찾기
- **이름 + 날짜 일치**: 같은 이름과 같은 날짜의 예약에서 전화번호 찾기

### 2. Medium Confidence (검토 후 적용)
- **이름 일치 (날짜 다름)**: 같은 이름이지만 다른 날짜의 예약에서 전화번호 찾기
- 여러 예약이 있는 경우 가장 최근 예약의 전화번호 사용

### 3. Low Confidence (수동 검토 필수)
- **이름 유사**: 이름이 부분적으로 일치하는 경우
- 공백, 괄호 제거 후 비교

---

## 🛠️ 사용 방법

### 1단계: 매칭 스크립트 실행

```bash
node scripts/match-missing-phones.js
```

**결과**:
- `backup/phone-matching-report-{timestamp}.json`: 상세 매칭 보고서
- `backup/phone-updates-{timestamp}.csv`: CSV 업데이트 가이드

### 2단계: 매칭 결과 검토

보고서 파일을 열어서 매칭 결과 확인:
- High confidence 매칭은 자동 적용 가능
- Medium/Low confidence는 수동 검토 필요

### 3단계: 매칭 결과 적용

#### High confidence만 자동 적용 (권장)
```bash
node scripts/apply-phone-matches.js --auto-high
```

#### 모든 매칭 적용 (주의 필요)
```bash
node scripts/apply-phone-matches.js
```

**결과**:
- 원본 CSV 백업 생성
- 업데이트된 CSV 저장: `database/예약 목록-2025. 11. 26-updated.csv`

### 4단계: 재마이그레이션

업데이트된 CSV로 재마이그레이션:
```bash
node scripts/migrate-wix-bookings.js database/예약\ 목록-2025.\ 11.\ 26-updated.csv
```

---

## 📋 매칭 예시

### High Confidence 예시
```
원본: 최일경 (2025-07-16, 전화번호 없음)
매칭: 최일경 (2025-07-16, 01052325102) ✅
이유: 이름 + 날짜 일치
```

### Medium Confidence 예시
```
원본: 박종규 (2025-10-03, 전화번호 없음)
매칭: 박종규 (2024-08-06, 01089927747) ⚠️
이유: 이름 일치 (날짜 다름)
```

### 매칭 실패 예시
```
원본: 김상동(장현임) (2025-09-22, 전화번호 없음)
매칭: 없음 ❌
이유: 같은 이름의 다른 예약이 없음
```

---

## ⚠️ 주의사항

1. **High confidence만 자동 적용 권장**
   - Medium/Low confidence는 수동 검토 후 적용
   - 같은 이름이라도 다른 사람일 수 있음

2. **백업 필수**
   - 원본 CSV는 자동으로 백업됨
   - 적용 전에 백업 파일 확인

3. **수동 검토 필요**
   - 매칭 실패한 210건은 수동으로 전화번호 입력 필요
   - 관리자 페이지에서 수동 입력 기능 사용 가능

---

## 🔄 업데이트 이력
- **2025-11-26**: 전화번호 매칭 스크립트 구현 완료























