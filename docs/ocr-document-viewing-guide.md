# OCR 문서 보기 가이드

## 📍 현재 OCR 문서를 볼 수 있는 화면

### 방법 1: 이미지 메타데이터 편집 모달 (가장 확실한 방법)

**위치**: 갤러리 페이지 (`/admin/gallery`)

**단계**:
1. **갤러리 페이지 접속**: `/admin/gallery`
2. **OCR 문서 이미지 찾기**: 
   - 파일명에 "주문", "사양서", "문서" 등이 포함된 이미지
   - 또는 `ocr_extracted = true` 필터 적용 (구현 필요)
3. **이미지 클릭**: 확대 모달 열림
4. **메타데이터 편집 버튼 클릭**: "편집" 또는 "메타데이터 편집" 버튼
5. **Description 필드 확인**: OCR 추출 텍스트가 표시됨
6. **OCR 교정 버튼**: Description 필드 옆에 "✨ OCR 교정" 버튼이 있으면 GPT-4로 교정 가능

### 방법 2: 고객 이미지 관리 모달 (현재 제한적)

**위치**: 고객 관리 페이지 → 고객 선택 → "이미지" 버튼

**현재 상태**:
- ✅ 이미지 클릭 시 확대 모달 열림
- ✅ 메타데이터 오버레이 표시 (제목, ALT 텍스트, 키워드)
- ❌ **메타데이터 편집 버튼 없음** (개선 필요)
- ❌ OCR 텍스트 직접 표시 없음

**임시 해결책**:
- Supabase 대시보드에서 직접 확인 (아래 참고)

### 방법 3: Supabase 대시보드 (데이터베이스 직접 조회)

**위치**: https://supabase.com/dashboard

**단계**:
1. Supabase 대시보드 접속
2. **Table Editor** 열기
3. **`image_assets` 테이블** 선택
4. **필터 추가**:
   - `ocr_extracted` = `true`
5. **컬럼 확인**:
   - `ocr_text`: 추출된 텍스트 전체
   - `description`: OCR 텍스트가 포함된 설명

---

## 🔍 OCR 문서 찾기

### 고객 이미지 관리 모달에서

**현재**: OCR 문서를 필터링하는 기능이 없음

**임시 방법**:
- 파일명으로 확인: "주문", "사양서", "문서" 등이 포함된 이미지
- 날짜별로 스크롤하며 확인

### 갤러리 페이지에서

**현재**: OCR 문서 필터 기능 없음

**임시 방법**:
- 검색 기능 사용: "주문", "사양서" 등으로 검색
- 폴더 경로 확인: `originals/customers/` 폴더 내 문서

---

## 🚀 개선 제안

### 1. 고객 이미지 관리 모달에 메타데이터 편집 버튼 추가

**위치**: 이미지 확대 모달에 "메타데이터 편집" 버튼 추가

**기능**:
- 이미지 클릭 → 확대 모달
- 확대 모달에 "편집" 버튼 추가
- 클릭 시 `ImageMetadataModal` 열림
- Description 필드에서 OCR 텍스트 확인 및 편집 가능

### 2. OCR 문서 필터 추가

**위치**: 고객 이미지 관리 모달의 "서류" 탭

**기능**:
- `ocr_extracted = true`인 이미지만 표시
- OCR 텍스트 미리보기 표시

### 3. OCR 텍스트 미리보기 카드

**위치**: 이미지 썸네일 하단 또는 호버 시

**기능**:
- OCR 텍스트 첫 100자 미리보기
- "전체 보기" 버튼으로 전체 텍스트 확인

---

## 📝 현재 확인 가능한 정보

### 메타데이터 편집 모달에서
- ✅ **Description 필드**: OCR 추출 텍스트 전체
- ✅ **OCR 교정 버튼**: GPT-4로 자동 교정
- ✅ **편집 가능**: 수동으로 텍스트 수정 가능

### 확대 모달에서 (고객 이미지 관리)
- ✅ **제목**: 이미지 제목
- ✅ **ALT 텍스트**: 간단한 설명
- ✅ **키워드**: 태그 목록
- ❌ **OCR 텍스트**: 직접 표시 안 됨 (메타데이터 편집 모달 필요)

---

## 💡 빠른 확인 방법

### 가장 빠른 방법 (현재)

1. **갤러리 페이지** (`/admin/gallery`) 접속
2. **이미지 검색**: "주문" 또는 "사양서" 검색
3. **이미지 클릭** → 확대 모달
4. **메타데이터 편집 버튼** 클릭
5. **Description 필드**에서 OCR 텍스트 확인

### 대안 (데이터베이스 직접 조회)

Supabase 대시보드에서 SQL 쿼리 실행:

```sql
SELECT 
  filename,
  original_filename,
  ocr_text,
  description,
  cdn_url
FROM image_assets
WHERE ocr_extracted = true
ORDER BY ocr_processed_at DESC;
```

---

## 🎯 권장 개선 사항

1. **고객 이미지 관리 모달에 메타데이터 편집 버튼 추가** (우선순위: 높음)
2. **OCR 문서 필터 추가** (우선순위: 중간)
3. **OCR 텍스트 미리보기** (우선순위: 낮음)
