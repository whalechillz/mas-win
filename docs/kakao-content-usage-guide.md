# 카카오톡 콘텐츠 생성 시스템 사용 가이드

## 📋 브랜드 전략 및 프롬프트 설정 사용법

### 1. 브랜드 전략 설정

**위치**: 페이지 상단 "🎯 마쓰구 브랜드 전략" 섹션

**사용 방법**:
1. 콘텐츠 유형 선택 (골프 정보, 제품 정보, 고객 후기 등)
2. 고객 페르소나 선택 (장비 선호 고객, 시니어 피팅 고객 등)
3. 스토리텔링 프레임워크 선택 (PAS, STDC 등)
4. 고객 채널 선택 (로컬 고객, 온라인 고객 등)
5. 브랜드 강도, 오디언스 온도, 전환 목표 설정

**적용 시점**:
- 이미지 생성 시 자동으로 적용됩니다
- 골드톤/블랙톤 이미지 생성 버튼 클릭 시 브랜드 전략이 반영됩니다

### 2. 프롬프트 설정 관리

**위치**: "⚙️ 프롬프트 설정 관리" 섹션

**사용 방법**:
1. 드롭다운에서 저장된 프롬프트 설정 선택
2. 선택한 설정이 이미지 생성 시 자동 적용됩니다
3. 기본 설정 사용 시 계정별 기본값 사용 (골드톤: 시니어, 블랙톤: 하이테크)

**우선순위**:
1. 저장된 프롬프트 설정 (선택 시)
2. 브랜드 전략 설정 (설정 시)
3. 기본 설정 (위 둘 다 없을 때)

## 🚀 계정 자동 생성 실행

### 실행 방법

1. **계정별 자동 생성**
   - 각 계정 섹션의 "✅ 계정 자동 생성" 버튼 클릭
   - 프로필 이미지 (배경 + 프로필) 생성
   - 피드 이미지 생성
   - 캘린더 파일에 자동 저장

2. **전체 자동 생성**
   - 페이지 하단 "🚀 전체 자동 생성" 버튼 클릭
   - 계정 1 → 계정 2 순서로 자동 생성
   - 모든 이미지 생성 및 저장

### 생성 과정

1. **프로필 이미지 생성**
   - 배경 이미지: 골드톤/블랙톤 이미지 생성
   - 프로필 이미지: 골드톤/블랙톤 이미지 생성
   - 메시지: 캘린더에서 가져온 메시지 사용

2. **피드 이미지 생성**
   - 피드 이미지: 골드톤/블랙톤 이미지 생성
   - 캡션: 캘린더에서 가져온 캡션 사용

3. **저장**
   - 캘린더 파일 (`docs/content-calendar/2025-11.json`)에 자동 저장
   - 생성 완료 표시 (`created: true`, `createdAt` 추가)

## 💾 데이터 저장 위치

### 1. 캘린더 파일 저장 (JSON)

**위치**: `docs/content-calendar/2025-11.json`

**저장 시점**:
- 프로필 업데이트 시
- 피드 업데이트 시
- 계정 자동 생성 완료 시

**저장 내용**:
```json
{
  "profileContent": {
    "account1": {
      "dailySchedule": [
        {
          "date": "2025-11-12",
          "background": {
            "imageUrl": "생성된 이미지 URL"
          },
          "profile": {
            "imageUrl": "생성된 이미지 URL"
          },
          "message": "프로필 메시지",
          "created": true,
          "createdAt": "2025-11-12T09:00:00.000Z"
        }
      ]
    }
  },
  "kakaoFeed": {
    "dailySchedule": [
      {
        "date": "2025-11-12",
        "account1": {
          "imageUrl": "생성된 이미지 URL",
          "caption": "피드 캡션",
          "created": true,
          "createdAt": "2025-11-12T09:00:00.000Z"
        }
      }
    ]
  }
}
```

### 2. DB 저장 (선택적)

**API**: `/api/kakao-content/save`

**저장 테이블**:
- `kakao_profile_content` (프로필 콘텐츠)
- `kakao_feed_content` (피드 콘텐츠)

**현재 상태**: 
- ✅ 캘린더 파일 저장: 구현 완료
- ⚠️ DB 저장: API 준비됨, 자동 호출은 미구현 (필요 시 추가 가능)

## 📝 사용 예시

### 시나리오 1: 브랜드 전략 적용하여 이미지 생성

1. 브랜드 전략 섹션에서 설정:
   - 콘텐츠 유형: "제품 정보"
   - 페르소나: "시니어 피팅 고객"
   - 브랜드 강도: "높음"
   - 오디언스 온도: "warm"

2. 계정 1의 "골드톤 이미지 생성" 버튼 클릭
3. 설정된 브랜드 전략이 반영된 이미지 생성

### 시나리오 2: 저장된 프롬프트 설정 사용

1. 프롬프트 설정 관리에서 "시니어 골드톤 프리셋" 선택
2. 이미지 생성 버튼 클릭
3. 선택한 프리셋의 브랜드 전략이 적용됨

### 시나리오 3: 계정 자동 생성

1. 계정 1 섹션의 "✅ 계정 자동 생성" 버튼 클릭
2. 자동으로:
   - 배경 이미지 생성
   - 프로필 이미지 생성
   - 피드 이미지 생성
   - 캘린더 파일 저장
3. 완료 메시지 확인

## ⚠️ 주의사항

1. **실제 카카오톡 업로드**: 
   - 현재는 이미지 생성 및 캘린더 파일 저장만 됩니다
   - 실제 카카오톡 업로드는 수동 또는 자동화 스크립트 필요

2. **브랜드 전략 우선순위**:
   - 프롬프트 설정 > 브랜드 전략 > 기본 설정

3. **저장 위치**:
   - 기본: 캘린더 파일 (JSON)
   - DB 저장은 별도 API 호출 필요

## 🔧 향후 개선 예정

- [ ] DB 자동 저장 기능 추가
- [ ] 실제 카카오톡 API 연동
- [ ] Playwright 자동화 스크립트 완성
- [ ] 생성 이력 관리


