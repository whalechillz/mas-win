<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ í…ŒìŠ¤íŠ¸</title>
</head>
<body>
    <h1>ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ í…ŒìŠ¤íŠ¸</h1>
    
    <button onclick="testSave()">í…ŒìŠ¤íŠ¸ ì €ì¥</button>
    <button onclick="testLoad()">í…ŒìŠ¤íŠ¸ ë¡œë“œ</button>
    <button onclick="clearTest()">í…ŒìŠ¤íŠ¸ ì‚­ì œ</button>
    
    <div id="result"></div>
    
    <h2>í˜„ì¬ ì €ì¥ëœ ë°ì´í„°:</h2>
    <pre id="current"></pre>
    
    <script>
        function testSave() {
            try {
                const testData = {
                    name: 'í…ŒìŠ¤íŠ¸',
                    phone: '010-1234-5678',
                    time: new Date().toISOString()
                };
                
                const existing = JSON.parse(localStorage.getItem('test_bookings') || '[]');
                existing.push(testData);
                localStorage.setItem('test_bookings', JSON.stringify(existing));
                
                document.getElementById('result').innerHTML = 'âœ… ì €ì¥ ì„±ê³µ!';
                showCurrent();
            } catch (error) {
                document.getElementById('result').innerHTML = 'âŒ ì—ëŸ¬: ' + error.message;
                console.error(error);
            }
        }
        
        function testLoad() {
            try {
                const data = localStorage.getItem('test_bookings');
                document.getElementById('result').innerHTML = 'âœ… ë¡œë“œ ì„±ê³µ: ' + (data || 'ë°ì´í„° ì—†ìŒ');
                showCurrent();
            } catch (error) {
                document.getElementById('result').innerHTML = 'âŒ ì—ëŸ¬: ' + error.message;
                console.error(error);
            }
        }
        
        function clearTest() {
            localStorage.removeItem('test_bookings');
            document.getElementById('result').innerHTML = 'ğŸ—‘ï¸ ì‚­ì œë¨';
            showCurrent();
        }
        
        function showCurrent() {
            const bookings = localStorage.getItem('bookings');
            const contacts = localStorage.getItem('contacts');
            const test = localStorage.getItem('test_bookings');
            
            document.getElementById('current').innerHTML = 
                'bookings: ' + (bookings || 'null') + '\n\n' +
                'contacts: ' + (contacts || 'null') + '\n\n' +
                'test_bookings: ' + (test || 'null');
        }
        
        // í˜ì´ì§€ ë¡œë“œ ì‹œ í˜„ì¬ ìƒíƒœ í‘œì‹œ
        showCurrent();
        
        // ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ ì§€ì› í™•ì¸
        if (typeof(Storage) === "undefined") {
            alert("ì´ ë¸Œë¼ìš°ì €ëŠ” ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ë¥¼ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤!");
        }
    </script>
</body>
</html>